# 测试环境配置
spring:
  profiles:
    active: test
  
  # 数据源配置（测试环境）
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.h2.Driver
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
    username: sa
    password: 
    
    # 简化的Druid配置
    druid:
      initial-size: 1
      min-idle: 1
      max-active: 5
      max-wait: 60000
      validation-query: SELECT 1
      test-while-idle: true

  # H2数据库控制台配置
  h2:
    console:
      enabled: true

# MyBatis配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.learning.mybatis.entity
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: false  # 测试环境关闭缓存
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

# 日志配置（测试环境）
logging:
  level:
    com.learning.mybatis: debug
    org.apache.ibatis: info
    java.sql: debug
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
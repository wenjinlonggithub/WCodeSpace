# Code Review救过我100次：我的Review清单

## 推文内容

每次CR发现的Bug
都可能是生产事故 🐛

这是我5年总结的Review清单

**1. 功能正确性**

✓ 是否实现了需求？
✓ 边界情况考虑了吗？
✓ 错误处理完善吗？

反例：
```java
int divide(int a, int b) {
    return a / b;  // 没处理b=0
}
```

**2. 代码可读性**

✓ 变量命名清晰？
✓ 函数职责单一？
✓ 注释必要且准确？

好命名的力量：
```java
// Bad
int d; // days

// Good
int daysUntilExpiry;
```

**3. 性能隐患**

✓ N+1查询？
✓ 无限循环风险？
✓ 内存泄漏？

真实案例：
```java
// 每次循环都查数据库！
for (User user : users) {
    Order order = db.getOrder(user.getId());
}
```

**4. 安全性**

✓ SQL注入防护？
✓ XSS过滤？
✓ 权限校验？
✓ 敏感信息加密？

一行代码毁所有：
```java
String sql = "SELECT * FROM users WHERE name = '" + name + "'";
// SQL注入漏洞！
```

**5. 测试覆盖**

✓ 单元测试？
✓ 边界测试？
✓ 异常场景？

如果没测试：
"这个改动很小，不会有问题"
= 著名遗言

**6. 向后兼容**

✓ API变更影响？
✓ 数据库迁移脚本？
✓ 配置更新文档？

**我的CR习惯：**

1. 先看测试
   了解意图

2. 从上到下
   先整体后细节

3. 运行代码
   不只是看

4. 提建设性意见
   不是挑刺

5. 及时approve
   不拖延

**给Review者：**

❌ "这代码写的什么玩意"
✅ "建议这样改会更清晰"

❌ 只挑毛病
✅ 也要称赞好的部分

❌ 吹毛求疵
✅ 抓核心问题

**给被Review者：**

❌ 防御心态
✅ 感谢指出问题

❌ PR太大
✅ 小PR，频繁merge

❌ 改完就扔
✅ 等review再合并

**CR救过我的命：**

- 发现了时区bug
- 避免了SQL注入
- 优化了O(n²)算法
- 修复了内存泄漏

每一个都可能是生产事故

**最好的CR：**

不是找bug
是互相学习

我从Junior的PR学到：
- 新的库用法
- 创新的解决思路
- 不同的思维角度

**记住：**

Code Review不是考试
是团队成长的过程

分享你的CR经验？

---

## 标签
#CodeReview #最佳实践 #代码质量

## 发布建议
- 分享真实CR案例
- 互动：最难忘的CR经历

# Claude Code 项目配置文件

## 项目概述

这是一个 Java 架构师学习和实践项目集合，包含企业级微服务系统、领域驱动设计（DDD）、中间件集成、分布式系统等多个方向的代码实践。

---

## 自动化任务规则

### 规则1: Java 架构师简历自动更新

**触发指令**：
- `更新 Java架构师简历`
- `更新简历`
- `refresh resume`
- `update Java architect resume`

**执行策略**：

当用户发出上述指令时，Claude 必须执行以下完整的自动化流程，从宏观到细节全方位更新简历文档。

---

#### 第一阶段：项目技术栈全面扫描（必须执行）

**1.1 项目结构分析**

使用 `Task` 工具（subagent_type=Explore）执行深度探索：

```
探索目标：
1. 扫描 D:\develop\20\WCodeSpace 下的所有子项目
2. 识别每个项目的类型（DemoProject、SoftwareArchitect、Middleware、OpenSource等）
3. 分析项目的业务领域（金融、医疗、电商、OA等）
4. 收集项目规模信息（微服务数量、核心类数量、代码行数）
```

**1.2 技术栈清单提取**

必须扫描以下文件以获取最新技术栈：

- **所有 pom.xml 文件**：
  - 提取 Spring Boot/Cloud 版本
  - 提取所有中间件依赖（Kafka、Redis、Dubbo、Zookeeper等）
  - 提取数据库相关依赖（MySQL、MongoDB、MyBatis等）
  - 提取工具库（Lombok、FastJSON、JWT等）
  - 识别 Java 版本（Java 17/21）

- **核心配置文件**：
  - `application.yml` / `application.properties`：服务端口、数据源配置、中间件配置
  - `bootstrap.yml`：配置中心、服务发现配置

- **关键代码文件**：
  - 撮合引擎：`MatchingEngine.java`, `MatchingEngineV2.java`
  - ID生成器：`SnowflakeIdGenerator.java`
  - 网关过滤器：`AuthenticationFilter.java`
  - DDD核心类：`Order.java`, `Money.java`, `OrderRepository.java`

**1.3 架构模式识别**

分析并识别以下架构模式：
- 微服务架构（模块数量、服务间通信方式）
- DDD四层架构（领域层、应用层、基础设施层、表示层）
- 设计模式应用（观察者、策略、工厂、仓储等）
- 并发编程模式（线程池、队列、锁机制）

---

#### 第二阶段：核心技术能力提炼（分层归纳）

**2.1 宏观架构能力**

从项目代码中提炼以下宏观能力：

1. **微服务架构设计**：
   - 统计微服务数量（如：Finance项目9个微服务）
   - 服务拆分策略（按业务领域、按技术边界）
   - 服务治理组件（网关、注册中心、配置中心）

2. **领域驱动设计（DDD）**：
   - 识别聚合根（Aggregate Root）
   - 识别值对象（Value Object）
   - 识别仓储模式（Repository Pattern）
   - 统计领域模型数量

3. **高并发架构**：
   - 订单撮合引擎性能指标（TPS、延迟）
   - 缓存架构（多级缓存、缓存策略）
   - 并发控制（线程池、队列、锁）

**2.2 中间件整合能力**

根据 Middleware 项目和各业务项目的 pom.xml，统计和分类：

- **消息队列**：Kafka、RabbitMQ、RocketMQ、ActiveMQ、ZeroMQ
  - 每个中间件的应用场景
  - 版本信息
  - 核心配置

- **缓存**：Redis、Memcached、Caffeine
  - 应用场景（分布式session、热点数据、本地缓存）
  - 性能指标（QPS）

- **RPC框架**：Dubbo、gRPC、Thrift
  - 通信协议（HTTP/2、Protocol Buffers）
  - 性能对比

- **数据库**：MySQL、MongoDB、MyBatis、Druid
  - 主从配置
  - 连接池优化

- **分布式协调**：Zookeeper、Nacos、Apollo
  - 服务发现
  - 配置管理

- **任务调度**：XXL-Job、Quartz

- **分布式事务**：Seata

**2.3 核心算法与数据结构**

从代码中识别和提炼：

1. **订单撮合算法**：
   - 双层订单簿（BuyOrderBook + SellOrderBook）
   - 优先级队列（PriorityQueue）
   - 价格-时间优先原则
   - 撮合流程伪代码

2. **Snowflake 分布式ID生成**：
   - 64位组成（1位符号 + 41位时间戳 + 10位机器ID + 12位序列号）
   - 性能指标（每毫秒4096个ID）
   - 时钟回拨处理

3. **并发数据结构**：
   - ConcurrentHashMap：订单簿存储
   - BlockingQueue：撮合队列
   - PriorityQueue：价格排序

**2.4 设计模式应用**

识别以下设计模式的实际应用：

| 设计模式 | 应用场景 | 代码文件 |
|---------|---------|---------|
| 观察者模式 | 订单撮合事件监听 | MatchListener.java |
| 策略模式 | 订单类型（LIMIT/MARKET） | OrderType.java |
| 工厂模式 | 订单簿创建 | OrderBookFactory.java |
| 门面模式 | 应用服务统一入口 | ApplicationService.java |
| 仓储模式 | 数据访问隔离 | OrderRepository.java |
| 值对象模式 | Money、Address | Money.java |

---

#### 第三阶段：简历文档结构化更新（面面俱到）

**3.1 更新基本信息**
- 保持原有个人信息不变
- 更新代码库说明（突出项目集规模）

**3.2 更新个人优势**

必须包含以下维度：

1. **技术深度**：
   - Java版本（17/21）+ 新特性（Records、Sealed Classes）
   - JVM调优能力
   - 并发编程能力
   - 实战项目数量

2. **架构能力**：
   - 微服务架构（项目名 + 服务数量）
   - DDD架构（具体成果）
   - 高并发系统（性能指标）
   - 中间件数量（10+种）

3. **代码实力**：
   - 算法与数据结构（具体应用）
   - 设计模式（23种）
   - 测试覆盖率

4. **团队管理**、**沟通协调**、**学习能力**

**3.3 更新技术栈概览**

分类展示所有识别到的技术栈：

```markdown
### 核心技术
- 编程语言：Java 17/21、Python
- 框架：Spring Boot 3.x、Spring Cloud 2023.x、MyBatis 3.x
- 微服务治理：Eureka、OpenFeign、Gateway、Nacos、Apollo

### 中间件生态
- 消息队列：[列出所有] + 版本号
- 缓存：[列出所有] + 应用场景
- 数据库：[列出所有] + 配置方式
- RPC框架：[列出所有]
- 协调服务：[列出所有]
- 任务调度：[列出所有]
- 分布式事务：[列出所有]

### 架构与设计
- 架构模式：微服务、DDD、CQRS、事件驱动
- 设计模式：23种 + 具体应用场景
- 分布式算法：一致性哈希、Snowflake、Raft/Paxos

### DevOps与监控
- 容器化：Docker、K8s
- CI/CD：Jenkins、GitLab CI
- 监控体系：Prometheus、Grafana、ELK
- 链路追踪：Jaeger、Zipkin

### 性能优化
- JVM调优
- 并发编程
- 数据库优化
- 缓存优化
```

**3.4 更新核心技能体系**

每个技能点必须包含：
- 技术名称
- 实战项目应用
- 技术深度说明
- 量化指标（如果有）

示例格式：
```markdown
- **Apache Kafka**：高吞吐量消息队列、分区策略设计、集群运维管理
  - 项目应用：OKX交易所异步订单处理、行情数据分发
  - 技术深度：消息顺序性保证、事务性消息、零拷贝优化
  - 性能指标：日均处理消息100万条
```

**3.5 更新项目经历**

每个核心项目必须包含以下结构：

```markdown
### [项目名称] | [时间]

**项目背景**：[业务场景]

**技术架构**：
- 微服务架构：[具体框架 + 版本] + [微服务数量]
- 编程语言：Java [版本]
- 数据库：[数据库 + 版本] + [架构模式]
- 缓存层：[缓存方案]
- 服务治理：[具体组件]
- 安全认证：[认证方案]
- 分布式ID：[ID生成方案]

**核心模块设计**：

#### 1. [核心模块名称]（核心亮点）
**文件路径**：[相对路径]

**技术实现**：
- [技术点1]：[详细说明]
- [技术点2]：[详细说明]
- [代码片段或伪代码]

**性能指标**：
- [指标1]：[数据]
- [指标2]：[数据]

**核心成果**：
- [成果1]：[量化数据]
- [成果2]：[量化数据]

**技术亮点**：
- [亮点1]
- [亮点2]
```

**3.6 重点项目深度展示**

必须详细展示的项目（按优先级）：

1. **OKX Finance 数字资产交易所微服务系统**（最重要）
   - 9个微服务详细说明
   - 订单撮合引擎算法 + 代码片段
   - Snowflake ID生成器算法 + 代码实现
   - API网关与JWT认证流程
   - 用户账户管理
   - 风控系统
   - 行情数据服务
   - 性能指标：TPS、延迟、可用性

2. **电商订单系统DDD架构重构**（架构能力体现）
   - DDD四层架构图
   - 值对象（Money、Address）设计 + 代码
   - 聚合根（Order）业务规则 + 代码
   - 仓储模式实现
   - 应用服务层流程编排
   - 成果：可维护性提升、Bug率下降

3. **互联网医院架构设计与实施**（业务理解）
   - 微服务架构
   - 高可用保障
   - 监控体系

4. **今日头条推荐引擎优化**（算法能力）

---

#### 第四阶段：质量检查与优化（突出重点）

**4.1 重点突出策略**

1. **宏观层面**（放在前面）：
   - 个人优势（3-5个核心竞争力）
   - 技术栈概览（一页清单）

2. **中观层面**（核心内容）：
   - 核心项目经历（2-3个重点项目详细展开）
   - 每个项目包含：背景、架构、核心模块、代码实现、性能指标

3. **微观层面**（技术深度）：
   - 核心算法代码片段
   - 关键技术实现细节
   - 设计模式应用案例

**4.2 量化指标要求**

简历中必须包含的量化数据：
- 微服务数量（如：9个微服务）
- 性能指标（如：TPS 10000+、延迟<100ms）
- 用户规模（如：千万级用户）
- 代码质量（如：测试覆盖率90%+）
- 改进效果（如：性能提升3倍、可维护性提升60%）
- 中间件数量（如：精通10+种中间件）

**4.3 代码路径引用**

关键技术点必须标注代码文件路径：
- `finance-trading/src/main/java/com/okx/finance/trading/engine/MatchingEngine.java`
- `finance-common/src/main/java/com/okx/finance/common/util/SnowflakeIdGenerator.java`
- `domain/valueobject/Money.java`
- `domain/aggregate/Order.java`

**4.4 格式规范**

- 使用 Markdown 格式
- 标题层级清晰（# ## ### ####）
- 代码块使用 ```java 标记
- 表格对齐
- 使用图标（✨ 🏗️ 🔧 ⚡ 🚀 👥）增强可读性

---

#### 第五阶段：输出与确认

**5.1 更新目标文件**

```
D:\develop\20\WCodeSpace\Resume\src\main\resources\docs\Java架构师简历.md
```

**5.2 更新后反馈**

向用户报告以下信息：
1. 扫描的项目数量
2. 识别的技术栈数量
3. 更新的核心项目数量
4. 新增/更新的技术点数量
5. 简历总字数
6. 重点突出的亮点（3-5个）

**5.3 建议输出**

提供以下建议：
- 面试准备建议（哪些代码需要重点演示）
- 技术短板识别（哪些技术栈缺失）
- 简历优化建议（哪些部分可以进一步强化）

---

#### 执行流程总结

```
用户输入："更新 Java架构师简历"
    ↓
第一阶段：项目技术栈全面扫描
  1.1 项目结构分析（Task-Explore）
  1.2 技术栈清单提取（Read pom.xml、配置文件）
  1.3 架构模式识别（代码分析）
    ↓
第二阶段：核心技术能力提炼
  2.1 宏观架构能力
  2.2 中间件整合能力
  2.3 核心算法与数据结构
  2.4 设计模式应用
    ↓
第三阶段：简历文档结构化更新
  3.1 更新基本信息
  3.2 更新个人优势
  3.3 更新技术栈概览
  3.4 更新核心技能体系
  3.5 更新项目经历
  3.6 重点项目深度展示
    ↓
第四阶段：质量检查与优化
  4.1 重点突出策略
  4.2 量化指标要求
  4.3 代码路径引用
  4.4 格式规范
    ↓
第五阶段：输出与确认
  5.1 更新目标文件
  5.2 更新后反馈
  5.3 建议输出
```

---

#### 关键原则

1. **面面俱到**：扫描所有项目、所有技术栈、所有核心代码
2. **突出重点**：优先展示微服务架构、DDD、高并发系统
3. **宏观到细节**：架构图 → 技术栈 → 核心模块 → 代码实现
4. **量化数据**：所有能力点都要有数据支撑
5. **代码为证**：关键技术点必须引用实际代码路径
6. **动态更新**：每次更新都要扫描最新的项目和技术栈

---

## 其他项目规则

（未来可在此添加其他自动化任务规则）

---

## 项目目录结构参考

```
WCodeSpace/
├── DemoProject/
│   ├── Finance/          # OKX交易所微服务（重点）
│   ├── Medical/          # 医疗系统
│   └── Recommend/        # 推荐系统
├── SoftwareArchitect/
│   ├── DDD/             # 领域驱动设计（重点）
│   └── Case/            # 架构案例
├── Middleware/          # 中间件全栈集成（重点）
├── OpenSource/          # 框架源码研究
│   ├── Spring/
│   ├── Kafka/
│   └── Mybatis/
├── DesignPattern/       # 23种设计模式
├── DistributedSystem/   # 分布式系统
├── Algorithm/           # 算法
├── DataStructure/       # 数据结构
├── LeetCode/            # 编程题
├── Concurrency/         # 并发编程
├── Java/                # Java语言特性
├── Jvm/                 # JVM原理
├── DataBase/            # 数据库
└── Resume/              # 简历项目
    └── src/main/resources/docs/Java架构师简历.md
```

---

## 版本历史

- **v1.0** (2026-01-13): 创建 Java 架构师简历自动更新规则

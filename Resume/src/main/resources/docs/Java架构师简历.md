# æ–‡é‡‘é¾™ - Javaæ¶æ„å¸ˆ

## åŸºæœ¬ä¿¡æ¯

- **å§“å**ï¼šæ–‡é‡‘é¾™
- **æ€§åˆ«**ï¼šç”· | **å¹´é¾„**ï¼š31å² | **ç±è´¯**ï¼šå¼€å°
- **è”ç³»æ–¹å¼**ï¼š18519733556 | **é‚®ç®±**ï¼š18519733556@163.com
- **å·¥ä½œç»éªŒ**ï¼š10å¹´ | **æ±‚èŒæ„å‘**ï¼šJavaæŠ€æœ¯ä¸“å®¶/æ¶æ„å¸ˆ
- **æœŸæœ›è–ªèµ„**ï¼š40K | **æœŸæœ›åŸå¸‚**ï¼šåŒ—äº¬
- **ä»£ç åº“**ï¼šæœ¬åœ°é¡¹ç›®é›†ï¼ˆOKX Financeå¾®æœåŠ¡ã€DDDæ¶æ„å®è·µã€ä¸­é—´ä»¶å…¨æ ˆé›†æˆç­‰ï¼‰
- **GitHub**ï¼šhttps://github.com/wenjinlonggithub
- **å¼€æºé¡¹ç›®**ï¼šhttps://github.com/wenjinlonggithub/WCodeSpace
- **ä¸ªäººæŠ€æœ¯IP**ï¼šhttps://x.com/W__Unlimited

---

## ä¸ªäººä¼˜åŠ¿

âœ¨ **æŠ€æœ¯æ·±åº¦**ï¼š11å¹´Javaå¼€å‘ç»éªŒï¼Œæ·±åº¦æŒæ¡ç°ä»£JavaæŠ€æœ¯æ ˆå’ŒAIå·¥ç¨‹åŒ–èƒ½åŠ›

- **Java 21 LTSä¸“å®¶**ï¼šæ·±åº¦åº”ç”¨Virtual Threadsè™šæ‹Ÿçº¿ç¨‹ã€Structured Concurrencyç»“æ„åŒ–å¹¶å‘
- **GraalVMå®è·µ**ï¼šNative Image AOTç¼–è¯‘ï¼Œå°†åº”ç”¨å¯åŠ¨æ—¶é—´ä»ç§’çº§ä¼˜åŒ–åˆ°æ¯«ç§’çº§
- **AIå·¥ç¨‹åŒ–èƒ½åŠ›**ï¼šæŒæ¡LangChain4jã€Spring AIã€RAGæ¶æ„ï¼Œæ„å»ºç”Ÿäº§çº§AIåº”ç”¨
- **ç°ä»£è¯­æ³•ç²¾é€š**ï¼šRecordsã€Sealed Classesã€Pattern Matchingã€Text Blocksç­‰Javaæ–°ç‰¹æ€§
- æ·±åº¦ç†è§£JVMåŸç†ã€å¹¶å‘ç¼–ç¨‹ã€è®¾è®¡æ¨¡å¼ï¼Œå…·å¤‡é«˜æ€§èƒ½ç³»ç»Ÿè®¾è®¡èƒ½åŠ›
- å®æˆ˜é¡¹ç›®ä»£ç åº“ï¼šFinanceäº¤æ˜“æ‰€å¾®æœåŠ¡ï¼ˆ9ä¸ªæœåŠ¡ï¼‰ã€DDDæ¶æ„é‡æ„ã€AIåŒ»ç–—åŠ©æ‰‹

âœ¨ **æ¶æ„èƒ½åŠ›**ï¼šæ‹¥æœ‰å¤§å‹äº’è”ç½‘é¡¹ç›®æ¶æ„è®¾è®¡ç»éªŒï¼Œæ“…é•¿å¾®æœåŠ¡æ¶æ„ã€äº‘åŸç”Ÿæ¶æ„å’ŒAIç³»ç»Ÿæ¶æ„

- **å¾®æœåŠ¡æ¶æ„**ï¼šè®¾è®¡å¹¶å®ç°OKXäº¤æ˜“æ‰€9å¾®æœåŠ¡ä½“ç³»ï¼ˆSpring Cloudå…¨å®¶æ¡¶ï¼‰
- **äº‘åŸç”Ÿæ¶æ„**ï¼šKubernetes + Istio Service Meshç”Ÿäº§å®è·µï¼Œæ”¯æ’‘æ—¥æ´»ç™¾ä¸‡+ç³»ç»Ÿ
- **AIç³»ç»Ÿæ¶æ„**ï¼šRAGçŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿã€åŒ»ç–—å¤§æ¨¡å‹æœåŠ¡æ¶æ„ã€å‘é‡æ£€ç´¢ä¼˜åŒ–ï¼ˆP99<50msï¼‰
- **DDDæ¶æ„**ï¼šä¸»å¯¼ç”µå•†è®¢å•ç³»ç»ŸDDDé‡æ„ï¼Œä»£ç å¯ç»´æŠ¤æ€§æå‡60%
- **é«˜å¹¶å‘ç³»ç»Ÿ**ï¼šè®¾è®¡é«˜æ€§èƒ½è®¢å•æ’®åˆå¼•æ“ï¼ˆä¸‡çº§TPSã€P99å»¶è¿Ÿ<100msï¼‰
- **ä¸­é—´ä»¶æ•´åˆ**ï¼šç²¾é€šKafka/Redis/Dubbo/Zookeeperç­‰10+ç§ä¸»æµä¸­é—´ä»¶

âœ¨ **ä»£ç å®åŠ›**ï¼šæ³¨é‡ä»£ç è´¨é‡å’Œå·¥ç¨‹å®è·µï¼Œå…·å¤‡æ‰å®çš„ç¼–ç èƒ½åŠ›

- **ç®—æ³•ä¸æ•°æ®ç»“æ„**ï¼šç†Ÿç»ƒè¿ç”¨PriorityQueueã€ConcurrentHashMapç­‰é«˜çº§æ•°æ®ç»“æ„
- **å¹¶å‘ç¼–ç¨‹**ï¼šç†Ÿç»ƒä½¿ç”¨çº¿ç¨‹æ± ã€BlockingQueueã€Synchronizedã€åŸå­ç±»ç­‰å¹¶å‘å·¥å…·
- **è®¾è®¡æ¨¡å¼**ï¼šå®æˆ˜åº”ç”¨23ç§è®¾è®¡æ¨¡å¼ï¼ˆè§‚å¯Ÿè€…ã€ç­–ç•¥ã€å·¥å‚ã€ä»“å‚¨ç­‰ï¼‰
- **ä»£ç è§„èŒƒ**ï¼šéµå¾ªClean CodeåŸåˆ™ï¼Œå•å…ƒæµ‹è¯•è¦†ç›–ç‡90%+

âœ¨ **å›¢é˜Ÿç®¡ç†**ï¼šå…·å¤‡å›¢é˜ŸæŠ€æœ¯ç®¡ç†ç»éªŒï¼Œèƒ½å¤Ÿè¿›è¡ŒæŠ€æœ¯è§„åˆ’ã€äººæ‰æ¢¯é˜Ÿå»ºè®¾å’Œé¡¹ç›®æ”»å…³

- ç®¡ç†15äººæŠ€æœ¯å›¢é˜Ÿï¼Œè´Ÿè´£æŠ€æœ¯æ–¹å‘è§„åˆ’å’Œæ¶æ„å†³ç­–
- å»ºç«‹å®Œå–„çš„æŠ€æœ¯æ–‡æ¡£ä½“ç³»å’Œä»£ç è¯„å®¡æœºåˆ¶
- æ¨åŠ¨DevOpså®è·µï¼Œè‡ªåŠ¨åŒ–æ„å»ºéƒ¨ç½²æµæ°´çº¿

âœ¨ **æ²Ÿé€šåè°ƒ**ï¼šå…·å¤‡è‰¯å¥½çš„æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›ï¼Œèƒ½å¤Ÿåè°ƒå†…å¤–éƒ¨èµ„æºï¼Œæ¨åŠ¨æŠ€æœ¯æ–¹æ¡ˆè½åœ°

- è·¨éƒ¨é—¨æŠ€æœ¯æ–¹æ¡ˆæ¨åŠ¨ï¼ˆä¸äº§å“ã€æµ‹è¯•ã€è¿ç»´åä½œï¼‰
- æŠ€æœ¯é€‰å‹å†³ç­–ä¸æ–¹æ¡ˆè¯„å®¡ï¼ˆä»ä¸šåŠ¡éœ€æ±‚åˆ°æŠ€æœ¯å®ç°ï¼‰

âœ¨ **å­¦ä¹ èƒ½åŠ›**ï¼šä¿æŒå¯¹æ–°æŠ€æœ¯çš„æ•æ„Ÿåº¦ï¼Œå…·å¤‡å¿«é€Ÿå­¦ä¹ å’ŒæŠ€æœ¯æ”»åšèƒ½åŠ›

- æ·±åº¦ç ”ç©¶å¼€æºæ¡†æ¶æºç ï¼ˆSpringã€Kafkaã€MyBatisï¼‰
- è·Ÿè¸ªå‰æ²¿æŠ€æœ¯ï¼ˆäº‘åŸç”Ÿã€Serverlessã€åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•ï¼‰
- æŒç»­å­¦ä¹ é¡¹ç›®ï¼šç®—æ³•åˆ·é¢˜ã€è®¾è®¡æ¨¡å¼å®è·µã€åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º

---

## æŠ€æœ¯æ ˆæ¦‚è§ˆï¼ˆåŸºäºå®é™…é¡¹ç›®ä»£ç ï¼‰

### æ ¸å¿ƒæŠ€æœ¯ï¼ˆç‰ˆæœ¬ç²¾ç¡®åˆ°å®æˆ˜é¡¹ç›®ï¼‰

- **ç¼–ç¨‹è¯­è¨€**ï¼š
    - Java 21 LTSï¼ˆä¸»åŠ›ï¼Œæ·±åº¦åº”ç”¨Virtual Threadsè™šæ‹Ÿçº¿ç¨‹ï¼‰
    - GraalVM 23.1ï¼ˆAOTç¼–è¯‘ï¼ŒNative Imageå®æˆ˜ï¼‰
    - Python 3.11ï¼ˆAIæ¨¡å‹è®­ç»ƒã€æ•°æ®åˆ†æï¼‰
- **æ¡†æ¶ç‰ˆæœ¬**ï¼š
    - Spring Boot 3.3.x (æœ€æ–°ç¨³å®šç‰ˆ)
    - Spring Cloud 2023.0.3 (å¾®æœåŠ¡æ²»ç†)
    - Spring 6.2.x (æœ€æ–°ç‰ˆ)
    - Spring AI 1.0.x (AIé›†æˆæ¡†æ¶)
    - MyBatis 3.5.x (æŒä¹…å±‚)
    - Spring Data JPA (DDDé¡¹ç›®ORM)
- **å¾®æœåŠ¡æ²»ç†**ï¼š
    - Eureka (æœåŠ¡æ³¨å†Œä¸å‘ç°)
    - OpenFeign (å£°æ˜å¼HTTPå®¢æˆ·ç«¯)
    - Spring Cloud Gateway (APIç½‘å…³ï¼Œååº”å¼ç¼–ç¨‹ï¼ŒWebFlux)
    - Nacos 2.4.x (é…ç½®ä¸­å¿ƒ + æœåŠ¡å‘ç°)
    - Apollo 2.3.0 (æºç¨‹é…ç½®ä¸­å¿ƒ)
- **AI/MLæŠ€æœ¯æ ˆ**ï¼ˆ2025-2026æ–°å¢ï¼‰ï¼š
    - LangChain4j 0.35.x (Javaç‰ˆLangChainï¼ŒAIåº”ç”¨å¼€å‘æ¡†æ¶)
    - Spring AI (OpenAIã€Azure OpenAIé›†æˆ)
    - å‘é‡æ•°æ®åº“ï¼šMilvus 2.4.x / Pinecone / Weaviate
    - RAGæ¶æ„ï¼šæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ŒçŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ
    - å¤§æ¨¡å‹APIï¼šOpenAI GPT-4ã€Claude 3.xã€é€šä¹‰åƒé—®ã€æ–‡å¿ƒä¸€è¨€
    - Embeddingæ¨¡å‹ï¼štext-embedding-3-largeã€BGEç³»åˆ—

### ä¸­é—´ä»¶ç”Ÿæ€ï¼ˆMiddlewareé¡¹ç›®å…¨æ ˆå®æˆ˜ï¼‰

#### æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆ5ç§å®æˆ˜ç»éªŒï¼‰

- **RabbitMQ**ï¼šSpring Boot AMQP Starterï¼ˆFinanceåŒ»é™¢é¡¹ç›®ï¼‰
- **Kafka**ï¼šSpring Kafkaï¼ˆFinanceè¡Œæƒ…æ¨é€ã€è®¢å•å¼‚æ­¥å¤„ç†ï¼‰
- **RocketMQ 2.2.3**ï¼šäº‹åŠ¡æ¶ˆæ¯ã€é¡ºåºæ¶ˆæ¯
- **ActiveMQ 6.0.1**ï¼šä¼ ç»ŸJMSæ¶ˆæ¯é˜Ÿåˆ—
- **ZeroMQ (JeroMQ 0.6.0)**ï¼šè½»é‡çº§æ¶ˆæ¯ä¼ é€’

#### ç¼“å­˜ï¼ˆ3å±‚ç¼“å­˜å®æˆ˜ï¼‰

- **Redis 3.2.0**ï¼šSpring Data Redis + Jediså®¢æˆ·ç«¯
    - Financeé¡¹ç›®ï¼šåˆ†å¸ƒå¼sessionã€çƒ­ç‚¹è¡Œæƒ…ç¼“å­˜ï¼ˆQPS 10ä¸‡+ï¼‰
    - é›†ç¾¤æ¨¡å¼ï¼šä¸»ä»å¤åˆ¶ã€å“¨å…µé«˜å¯ç”¨
- **Memcached (XMemcached 2.4.8)**ï¼šé«˜æ€§èƒ½åˆ†å¸ƒå¼ç¼“å­˜
- **Caffeine**ï¼šæœ¬åœ°é«˜æ€§èƒ½ç¼“å­˜ï¼ˆè¯»å¤šå†™å°‘åœºæ™¯ï¼‰

#### æ•°æ®åº“ä¸ORM

- **MySQL 8.0.33**ï¼šä¸»ä»é›†ç¾¤ã€è¯»å†™åˆ†ç¦»
- **MyBatis 3.0.3**ï¼šåŠ¨æ€SQLã€äºŒçº§ç¼“å­˜ã€æ‰¹é‡æ“ä½œ
- **Druid 1.2.21**ï¼šæ•°æ®åº“è¿æ¥æ± ã€SQLç›‘æ§ã€æ…¢æŸ¥è¯¢åˆ†æ
- **Spring Data JPA**ï¼šORMæ˜ å°„ã€æ‡’åŠ è½½ä¼˜åŒ–ã€N+1é—®é¢˜è§£å†³

#### RPCæ¡†æ¶ï¼ˆ3ç§è·¨è¯­è¨€RPCï¼‰

- **Apache Dubbo 3.3.0**ï¼šåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ã€SPIæ‰©å±•
- **gRPC 1.61.0**ï¼šé«˜æ€§èƒ½RPCã€Protocol Buffersåºåˆ—åŒ–ï¼ˆæ€§èƒ½æå‡3å€ï¼‰
- **Apache Thrift 0.20.0**ï¼šè·¨è¯­è¨€RPCæœåŠ¡

#### åˆ†å¸ƒå¼åè°ƒï¼ˆ3ç§åè°ƒæœåŠ¡ï¼‰

- **Apache Zookeeper 3.9.1**ï¼šåˆ†å¸ƒå¼åè°ƒã€åˆ†å¸ƒå¼é”
    - Curator 5.6.0ï¼šZookeeperå®¢æˆ·ç«¯æ¡†æ¶
    - ç†è§£ZABåè®®ã€Watchæœºåˆ¶
- **Nacos 2.2.4**ï¼šåŠ¨æ€é…ç½®ã€æœåŠ¡æ³¨å†Œã€ç°åº¦å‘å¸ƒ
- **Apollo 2.3.0**ï¼šé…ç½®ç‰ˆæœ¬ç®¡ç†ã€å®æ—¶æ¨é€

#### ä»»åŠ¡è°ƒåº¦ä¸åˆ†å¸ƒå¼äº‹åŠ¡

- **XXL-Job 2.4.1**ï¼šåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ã€ä»»åŠ¡ç›‘æ§ã€å¤±è´¥é‡è¯•
- **Spring Quartz**ï¼šå®šæ—¶ä»»åŠ¡è°ƒåº¦æ¡†æ¶
- **Seata 1.7.1**ï¼šåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼ˆAT/TCC/Sagaæ¨¡å¼ï¼‰

#### æœç´¢ä¸æ—¥å¿—

- **Elasticsearch 8.12.0**ï¼šåˆ†å¸ƒå¼æœç´¢å¼•æ“
- **Logstash 7.4**ï¼šæ—¥å¿—æ”¶é›†ä¸å¤„ç†ï¼ˆLogStash Logback Encoderï¼‰
- **Spring Data Elasticsearch**ï¼šESé›†æˆ

#### å·¥å…·åº“

- **JWT (io.jsonwebtoken) 0.11.5**ï¼šèº«ä»½è®¤è¯
- **FastJSON 2.0.43**ï¼šJSONåºåˆ—åŒ–/ååºåˆ—åŒ–
- **Lombok 1.18.30**ï¼šå‡å°‘æ ·æ¿ä»£ç 

### æ¶æ„ä¸è®¾è®¡ï¼ˆå®æˆ˜éªŒè¯ï¼‰

- **æ¶æ„æ¨¡å¼**ï¼š
    - å¾®æœåŠ¡æ¶æ„ï¼ˆFinance 9å¾®æœåŠ¡å®æˆ˜ï¼‰
    - DDDå››å±‚æ¶æ„ï¼ˆèšåˆæ ¹ã€å€¼å¯¹è±¡ã€ä»“å‚¨ï¼‰
    - CQRSã€äº‹ä»¶é©±åŠ¨
- **è®¾è®¡æ¨¡å¼**ï¼š
    - 23ç§è®¾è®¡æ¨¡å¼å®æˆ˜ï¼ˆDesignPatterné¡¹ç›®å®Œæ•´å®ç°ï¼‰
    - è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆMatchListenerï¼‰ã€ç­–ç•¥æ¨¡å¼ï¼ˆOrderTypeï¼‰
    - å·¥å‚æ¨¡å¼ã€é—¨é¢æ¨¡å¼ã€ä»“å‚¨æ¨¡å¼ã€å€¼å¯¹è±¡æ¨¡å¼
- **åˆ†å¸ƒå¼ç®—æ³•**ï¼š
    - Snowflake IDç”Ÿæˆï¼ˆè‡ªç ”ï¼Œå•æœº4096 ID/msï¼‰
    - ä¸€è‡´æ€§å“ˆå¸Œ
    - Raft/Paxosç†è§£ï¼ˆDistributedSystemé¡¹ç›®ï¼‰

### äº‘åŸç”Ÿä¸DevOpsï¼ˆ2026ç”Ÿäº§çº§å®è·µï¼‰

- **å®¹å™¨åŒ–ä¸ç¼–æ’**ï¼š
    - Docker 25.xï¼ˆå¤šé˜¶æ®µæ„å»ºã€é•œåƒä¼˜åŒ–ï¼‰
    - Kubernetes 1.30.xï¼ˆé›†ç¾¤ç®¡ç†ã€Operatorå¼€å‘ï¼‰
    - Helm 3.xï¼ˆåº”ç”¨åŒ…ç®¡ç†ï¼‰
    - Istio 1.21.xï¼ˆService MeshæœåŠ¡ç½‘æ ¼ã€æµé‡ç®¡ç†ã€ç°åº¦å‘å¸ƒï¼‰
    - Dapr 1.14.xï¼ˆåˆ†å¸ƒå¼åº”ç”¨è¿è¡Œæ—¶ï¼‰
- **GitOpsä¸è‡ªåŠ¨åŒ–**ï¼š
    - ArgoCD 2.11.xï¼ˆGitOpsæŒç»­äº¤ä»˜ï¼‰
    - Flux CDï¼ˆKubernetesåŸç”ŸGitOpsï¼‰
    - Tektonï¼ˆäº‘åŸç”ŸCI/CDæµæ°´çº¿ï¼‰
    - Jenkins Xï¼ˆKubernetesåŸç”ŸCI/CDï¼‰
- **ä¼ ç»ŸCI/CD**ï¼š
    - Jenkins Pipelineï¼ˆDeclarative Pipelineï¼‰
    - GitLab CI/CDï¼ˆ.gitlab-ci.ymlï¼‰
    - GitHub Actionsï¼ˆè‡ªåŠ¨åŒ–å·¥ä½œæµï¼‰
- **å¯è§‚æµ‹æ€§ä½“ç³»**ï¼ˆOpenTelemetryæ ‡å‡†ï¼‰ï¼š
    - Prometheus + Grafanaï¼ˆæŒ‡æ ‡ç›‘æ§ã€PromQLæŸ¥è¯¢ï¼‰
    - ELK Stackï¼ˆElasticsearch 8.12.0 + Logstash 7.4 + Kibanaï¼‰
    - OpenTelemetryï¼ˆç»Ÿä¸€çš„Traces/Metrics/Logsé‡‡é›†ï¼‰
    - Jaegerï¼ˆåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªï¼‰
    - Tempoï¼ˆGrafanaåˆ†å¸ƒå¼è¿½è¸ªåç«¯ï¼‰
    - Lokiï¼ˆæ—¥å¿—èšåˆç³»ç»Ÿï¼‰
    - JVMç›‘æ§ï¼šjpsã€jstatã€jmapã€jstackã€VisualVMã€Arthas
- **Serverlessä¸å‡½æ•°è®¡ç®—**ï¼š
    - Knativeï¼ˆKubernetesä¸Šçš„Serverlesså¹³å°ï¼‰
    - AWS Lambda / é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼ˆäº‹ä»¶é©±åŠ¨æ¶æ„ï¼‰
    - Spring Cloud Functionï¼ˆå‡½æ•°å¼ç¼–ç¨‹æ¨¡å‹ï¼‰
- **ç‰ˆæœ¬ç®¡ç†ä¸æ„å»º**ï¼š
    - Gitï¼ˆåˆ†æ”¯ç­–ç•¥ã€Git Flowï¼‰
    - Maven 3.9.x / Gradle 8.x
    - Nexus / Artifactoryï¼ˆåˆ¶å“ä»“åº“ï¼‰

### æ€§èƒ½ä¼˜åŒ–ï¼ˆå®æˆ˜ç»éªŒ - 2026å‡çº§ç‰ˆï¼‰

- **JVMè°ƒä¼˜ä¸ç°ä»£åŒ–**ï¼š
    - G1/ZGC/Shenandoahåƒåœ¾æ”¶é›†å™¨å‚æ•°è°ƒä¼˜
    - **Virtual Threadsï¼ˆè™šæ‹Ÿçº¿ç¨‹ï¼‰**ï¼šJava 21 LTSæ ¸å¿ƒç‰¹æ€§ï¼Œç™¾ä¸‡çº§å¹¶å‘æ”¯æŒ
    - GraalVM Native Imageï¼šå¯åŠ¨æ—¶é—´ä»ç§’çº§ä¼˜åŒ–åˆ°æ¯«ç§’çº§
    - å †å†…å­˜åˆ†æï¼ˆEden/Survivor/Oldï¼‰
    - Full GCæ’æŸ¥ä¸ä¼˜åŒ–
    - JFRï¼ˆJava Flight Recorderï¼‰æ€§èƒ½åˆ†æ
- **å¹¶å‘ç¼–ç¨‹ï¼ˆç°ä»£åŒ–å‡çº§ï¼‰**ï¼š
    - **Virtual Threads**ï¼šæ›¿ä»£ä¼ ç»Ÿçº¿ç¨‹æ± ï¼Œç®€åŒ–å¼‚æ­¥ç¼–ç¨‹
    - Structured Concurrencyï¼ˆç»“æ„åŒ–å¹¶å‘ï¼ŒJava 21é¢„è§ˆç‰¹æ€§ï¼‰
    - ä¼ ç»Ÿçº¿ç¨‹æ± ï¼ˆThreadPoolExecutorï¼ŒåŠ¨æ€è°ƒæ•´æ ¸å¿ƒæ•°ï¼‰
    - å¹¶å‘å®¹å™¨ï¼ˆConcurrentHashMapã€BlockingQueueã€PriorityQueueï¼‰
    - é”ä¼˜åŒ–ï¼ˆSynchronizedã€ReentrantLockã€RedLockåˆ†å¸ƒå¼é”ï¼‰
- **å“åº”å¼ç¼–ç¨‹**ï¼š
    - Spring WebFluxï¼ˆéé˜»å¡I/Oï¼ŒåŸºäºReactorï¼‰
    - R2DBCï¼ˆå“åº”å¼æ•°æ®åº“é©±åŠ¨ï¼‰
    - Project Reactorï¼ˆå“åº”å¼æµå¤„ç†ï¼‰
- **æ•°æ®åº“ä¼˜åŒ–**ï¼š
    - ç´¢å¼•è®¾è®¡ï¼ˆB+æ ‘ã€è”åˆç´¢å¼•ã€è¦†ç›–ç´¢å¼•ï¼‰
    - SQLè°ƒä¼˜ï¼ˆæ‰§è¡Œè®¡åˆ’åˆ†æã€Explain Analyzeï¼‰
    - å‘é‡ç´¢å¼•ï¼ˆHNSWã€IVFç”¨äºAI Embeddingæœç´¢ï¼‰
    - Druidè¿æ¥æ± è°ƒä¼˜ï¼ˆè¿æ¥å¤ç”¨ç‡æå‡50%ï¼‰
    - åˆ†åº“åˆ†è¡¨ï¼ˆShardingSphereï¼‰
- **ç¼“å­˜ä¼˜åŒ–**ï¼š
    - å¤šçº§ç¼“å­˜æ¶æ„ï¼ˆCaffeineæœ¬åœ°ç¼“å­˜ + Redisåˆ†å¸ƒå¼ç¼“å­˜ï¼‰
    - ç¼“å­˜ç©¿é€/å‡»ç©¿/é›ªå´©é˜²æŠ¤
    - Redis Luaè„šæœ¬åŸå­æ“ä½œã€Pipelineæ‰¹é‡æ“ä½œ
    - Redisé›†ç¾¤ï¼ˆClusteræ¨¡å¼ã€å“¨å…µæ¨¡å¼ï¼‰

---

## æ ¸å¿ƒæŠ€èƒ½ä½“ç³»

### ğŸ—ï¸ Javaæ¶æ„å¸ˆæ ¸å¿ƒæŠ€èƒ½

#### ç³»ç»Ÿè®¾è®¡èƒ½åŠ›ï¼ˆå®æˆ˜éªŒè¯ï¼‰

- **å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡**ï¼š
    - å¾®æœåŠ¡æ¶æ„ï¼šOKXäº¤æ˜“æ‰€9å¾®æœåŠ¡ä½“ç³»ï¼ˆGateway/User/Trading/Account/Marketç­‰ï¼‰
    - æœåŠ¡æ‹†åˆ†ç­–ç•¥ï¼šåŸºäºä¸šåŠ¡é¢†åŸŸçš„æœåŠ¡è¾¹ç•Œåˆ’åˆ†ã€èšåˆæ ¹éš”ç¦»
    - DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼šå››å±‚æ¶æ„ï¼ˆåº”ç”¨å±‚/é¢†åŸŸå±‚/åŸºç¡€è®¾æ–½å±‚/è¡¨ç¤ºå±‚ï¼‰ã€å€¼å¯¹è±¡ã€ä»“å‚¨æ¨¡å¼
- **é«˜å¹¶å‘é«˜å¯ç”¨æ¶æ„**ï¼š
    - è®¢å•æ’®åˆå¼•æ“ï¼šåŒå±‚è®¢å•ç°¿ï¼ˆPriorityQueueï¼‰ã€ä»·æ ¼-æ—¶é—´ä¼˜å…ˆã€ä¸‡çº§TPS
    - è´Ÿè½½å‡è¡¡ï¼šEurekaæœåŠ¡å‘ç° + Ribbonå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡
    - å¤šçº§ç¼“å­˜ï¼šCaffeineæœ¬åœ°ç¼“å­˜ + Redisé›†ç¾¤ï¼ˆQPS 10ä¸‡+ï¼‰
    - é™æµé™çº§ï¼šAPIç½‘å…³å…¨å±€è¿‡æ»¤å™¨ã€ç™½åå•æœºåˆ¶
    - å®¹ç¾ä¸æ•…éšœæ¢å¤ï¼šä¸»ä»å¤åˆ¶ã€å“¨å…µè‡ªåŠ¨åˆ‡æ¢
- **ä¸­é—´ä»¶æŠ€æœ¯é€‰å‹**ï¼š
    - æ¶ˆæ¯é˜Ÿåˆ—ï¼šKafkaï¼ˆé«˜ååï¼‰ã€RabbitMQï¼ˆå¯é æ€§ï¼‰ã€RocketMQï¼ˆäº‹åŠ¡ï¼‰
    - é…ç½®ä¸­å¿ƒï¼šNacosï¼ˆåŠ¨æ€é…ç½®+æœåŠ¡å‘ç°ï¼‰ã€Apolloï¼ˆç‰ˆæœ¬ç®¡ç†ï¼‰
    - APIç½‘å…³ï¼šSpring Cloud Gatewayï¼ˆååº”å¼ç¼–ç¨‹ã€WebFluxï¼‰
    - åˆ†å¸ƒå¼äº‹åŠ¡ï¼šSeataï¼ˆAT/TCC/Sagaæ¨¡å¼ç†è§£ï¼‰

#### JavaæŠ€æœ¯æ·±åº¦ï¼ˆæ ¸å¿ƒç«äº‰åŠ›ï¼‰

- **JVMæ€§èƒ½è°ƒä¼˜**ï¼š
    - åƒåœ¾æ”¶é›†å™¨ï¼šG1/ZGCè°ƒä¼˜å‚æ•°é…ç½®ã€Full GCæ’æŸ¥
    - å†…å­˜æ¨¡å‹ï¼šå †å†…å­˜åˆ†ä»£ï¼ˆEden/Survivor/Oldï¼‰ã€å…ƒç©ºé—´è°ƒä¼˜
    - å¹¶å‘ç¼–ç¨‹ï¼šçº¿ç¨‹æ± ï¼ˆThreadPoolExecutorï¼‰ã€ConcurrentHashMapã€BlockingQueueã€Synchronizedä¼˜åŒ–
    - è¯Šæ–­å·¥å…·ï¼šjps/jstat/jmap/jstackã€VisualVMã€Arthas
- **Springç”Ÿæ€ç³»ç»Ÿ**ï¼ˆå®æˆ˜ç»éªŒï¼‰ï¼š
    - Spring Boot 3.xï¼šè‡ªåŠ¨é…ç½®åŸç†ã€Starterå¼€å‘ã€æ¡ä»¶æ³¨è§£
    - Spring Cloud 2023ï¼šEurekaã€OpenFeignã€Gatewayã€Config
    - Spring Securityï¼šJWTè®¤è¯ã€å…¨å±€è¿‡æ»¤å™¨ã€æƒé™ç®¡ç†
    - Spring Data JPAï¼šORMæ˜ å°„ã€æ‡’åŠ è½½ä¼˜åŒ–ã€N+1é—®é¢˜è§£å†³
- **ä¼ä¸šçº§å¼€å‘æ¡†æ¶**ï¼š
    - MyBatis 3.xï¼šåŠ¨æ€SQLã€äºŒçº§ç¼“å­˜ã€æ’ä»¶æœºåˆ¶ã€æ‰¹é‡æ“ä½œä¼˜åŒ–ï¼ˆFinanceé¡¹ç›®å®æˆ˜ï¼‰
    - ä¾èµ–æ³¨å…¥ï¼šæ„é€ å™¨æ³¨å…¥ã€@Autowiredã€Beanç”Ÿå‘½å‘¨æœŸç®¡ç†
    - AOPåˆ‡é¢ç¼–ç¨‹ï¼šäº‹åŠ¡ç®¡ç†ã€æ—¥å¿—è®°å½•ã€æƒé™æ ¡éªŒ
    - ç¼“å­˜æŠ½è±¡ï¼š@Cacheableã€å¤šçº§ç¼“å­˜ç­–ç•¥
- **å¹¶å‘ç¼–ç¨‹**ï¼ˆé‡‘èç³»ç»Ÿå…³é”®æŠ€èƒ½ï¼‰ï¼š
    - çº¿ç¨‹æ± ï¼šæ ¸å¿ƒå‚æ•°è°ƒä¼˜ã€æ‹’ç»ç­–ç•¥ã€åŠ¨æ€çº¿ç¨‹æ± ï¼ˆæ ¹æ®CPUæ ¸å¿ƒæ•°ï¼‰
    - é˜Ÿåˆ—ï¼šBlockingQueueã€ConcurrentLinkedQueueã€PriorityQueueï¼ˆæ’®åˆå¼•æ“æ ¸å¿ƒï¼‰
    - é”ä¼˜åŒ–ï¼šSynchronizedã€ReentrantLockã€RedLockåˆ†å¸ƒå¼é”
    - åŸå­ç±»ï¼šAtomicLongã€LongAdderï¼ˆé«˜å¹¶å‘è®¡æ•°ï¼‰

### ğŸ”§ ä¸­é—´ä»¶æŠ€æœ¯ä¸“å®¶æŠ€èƒ½

#### æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆ5ç§å®æˆ˜ç»éªŒ - Middlewareé¡¹ç›®ï¼‰

- **Apache Kafka (Spring Kafka)**ï¼šé«˜ååé‡æ¶ˆæ¯é˜Ÿåˆ—ã€åˆ†åŒºç­–ç•¥è®¾è®¡ã€é›†ç¾¤è¿ç»´ç®¡ç†
    - é¡¹ç›®åº”ç”¨ï¼šOKXäº¤æ˜“æ‰€å¼‚æ­¥è®¢å•å¤„ç†ã€è¡Œæƒ…æ•°æ®åˆ†å‘
    - æŠ€æœ¯æ·±åº¦ï¼šæ¶ˆæ¯é¡ºåºæ€§ä¿è¯ã€äº‹åŠ¡æ€§æ¶ˆæ¯ã€é›¶æ‹·è´ä¼˜åŒ–
    - æ€§èƒ½æŒ‡æ ‡ï¼šæ—¥å‡å¤„ç†æ¶ˆæ¯100ä¸‡æ¡
- **RabbitMQ (Spring Boot AMQP)**ï¼šæ¶ˆæ¯è·¯ç”±è®¾è®¡ã€å¯é æ€§ä¿è¯ã€é›†ç¾¤æ¶æ„éƒ¨ç½²
    - é¡¹ç›®åº”ç”¨ï¼šäº’è”ç½‘åŒ»é™¢è®¢å•é€šçŸ¥ã€æ”¯ä»˜å›è°ƒ
    - æŠ€æœ¯æ·±åº¦ï¼šæ­»ä¿¡é˜Ÿåˆ—ã€æ¶ˆæ¯æŒä¹…åŒ–ã€å‘å¸ƒç¡®è®¤æœºåˆ¶
    - äº¤æ¢å™¨ç±»å‹ï¼šDirectã€Topicã€Fanoutã€Headers
- **RocketMQ 2.2.3**ï¼šäº‹åŠ¡æ¶ˆæ¯ã€é¡ºåºæ¶ˆæ¯ã€å»¶æ—¶æ¶ˆæ¯å®ç°
    - é¡¹ç›®åº”ç”¨ï¼šåˆ†å¸ƒå¼äº‹åŠ¡æœ€ç»ˆä¸€è‡´æ€§ä¿è¯
    - æŠ€æœ¯æ·±åº¦ï¼šæ¶ˆæ¯å¯é æ€§ï¼ˆåŒæ­¥åˆ·ç›˜ã€å¼‚æ­¥åˆ·ç›˜ï¼‰
- **ActiveMQ 6.0.1**ï¼šä¼ ç»ŸJMSæ¶ˆæ¯é˜Ÿåˆ—ã€ç‚¹å¯¹ç‚¹/å‘å¸ƒè®¢é˜…æ¨¡å¼
- **ZeroMQ (JeroMQ 0.6.0)**ï¼šè½»é‡çº§æ¶ˆæ¯ä¼ é€’åº“ã€æ— Brokeræ¶æ„

#### RPCä¸æœåŠ¡æ²»ç†ï¼ˆ3ç§RPCæ¡†æ¶å…¨æ ˆæŒæ¡ï¼‰

- **Apache Dubbo 3.3.0**ï¼šåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ã€æœåŠ¡æ³¨å†Œä¸å‘ç°ã€è´Ÿè½½å‡è¡¡
    - æŠ€æœ¯æ·±åº¦ï¼šSPIæ‰©å±•æœºåˆ¶ã€Filteré“¾è·¯æ‹¦æˆªã€æ³›åŒ–è°ƒç”¨
    - åè®®æ”¯æŒï¼šDubboåè®®ã€HTTPåè®®ã€RESTåè®®
    - è´Ÿè½½å‡è¡¡ï¼šéšæœºã€è½®è¯¢ã€æœ€å°‘æ´»è·ƒè°ƒç”¨ã€ä¸€è‡´æ€§å“ˆå¸Œ
- **gRPC 1.61.0**ï¼šé«˜æ€§èƒ½RPCæ¡†æ¶ã€Protocol Buffersåºåˆ—åŒ–
    - é¡¹ç›®åº”ç”¨ï¼šOKXå¾®æœåŠ¡é—´é€šä¿¡æ€§èƒ½ä¼˜åŒ–ï¼ˆç›¸æ¯”JSONæå‡3å€ï¼‰
    - æŠ€æœ¯æ·±åº¦ï¼šHTTP/2å¤šè·¯å¤ç”¨ã€åŒå‘æµå¼ä¼ è¾“
    - ç»„ä»¶ï¼šgrpc-netty-shadedã€grpc-protobufã€grpc-stub
- **Apache Thrift 0.20.0**ï¼šè·¨è¯­è¨€RPCæœåŠ¡è°ƒç”¨
    - æ”¯æŒè¯­è¨€ï¼šJavaã€Pythonã€C++ã€Goç­‰

#### æ•°æ®åº“ä¸­é—´ä»¶ä¸è°ƒä¼˜ï¼ˆæŒä¹…å±‚å…¨é“¾è·¯ï¼‰

- **MyBatis 3.0.3**ï¼šORMæ¡†æ¶æ·±åº¦åº”ç”¨ã€åŠ¨æ€SQLã€æ’ä»¶æœºåˆ¶
    - é¡¹ç›®åº”ç”¨ï¼šæ‰€æœ‰å¾®æœåŠ¡é¡¹ç›®çš„æŒä¹…å±‚æ¡†æ¶
    - æŠ€æœ¯æ·±åº¦ï¼šäºŒçº§ç¼“å­˜ã€æ‰¹é‡æ“ä½œä¼˜åŒ–ã€ç»“æœæ˜ å°„ã€TypeHandler
    - XMLæ˜ å°„ï¼šåŠ¨æ€SQLï¼ˆif/choose/foreach/trimï¼‰
- **Druid 1.2.21**ï¼šæ•°æ®åº“è¿æ¥æ± ç®¡ç†ã€SQLç›‘æ§ã€æ…¢æŸ¥è¯¢åˆ†æ
    - é¡¹ç›®åº”ç”¨ï¼šFinanceé¡¹ç›®æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–ï¼Œè¿æ¥å¤ç”¨ç‡æå‡50%
    - åŠŸèƒ½ï¼šå†…ç½®ç›‘æ§ç»Ÿè®¡ã€é˜²SQLæ³¨å…¥ã€åŠ å¯†é…ç½®
- **Spring Data JPA**ï¼šåŸºäºHibernateçš„ORMæ¡†æ¶
    - é¡¹ç›®åº”ç”¨ï¼šDDDé¡¹ç›®æŒä¹…åŒ–å±‚
    - æŠ€æœ¯æ·±åº¦ï¼šæ‡’åŠ è½½ä¼˜åŒ–ã€N+1é—®é¢˜è§£å†³ã€CriteriaåŠ¨æ€æŸ¥è¯¢
- **MySQL 8.0.33**ï¼šå…³ç³»å‹æ•°æ®åº“
    - æ¶æ„ï¼šä¸»ä»å¤åˆ¶ã€è¯»å†™åˆ†ç¦»
    - è°ƒä¼˜ï¼šç´¢å¼•è®¾è®¡ä¼˜åŒ–ã€SQLæ€§èƒ½è°ƒä¼˜ã€æ‰§è¡Œè®¡åˆ’åˆ†æ

#### ç¼“å­˜ä¸­é—´ä»¶ï¼ˆ3å±‚ç¼“å­˜æ¶æ„ - ç”Ÿäº§çº§åº”ç”¨ï¼‰

- **Redis 3.2.0 é›†ç¾¤**ï¼šSpring Data Redis + Jediså®¢æˆ·ç«¯
    - é¡¹ç›®åº”ç”¨ï¼šOKXäº¤æ˜“æ‰€åˆ†å¸ƒå¼sessionã€çƒ­ç‚¹è¡Œæƒ…ç¼“å­˜ï¼ˆQPS 10ä¸‡+ï¼‰
    - æŠ€æœ¯æ·±åº¦ï¼šLuaè„šæœ¬åŸå­æ“ä½œã€Pipelineæ‰¹é‡æ“ä½œã€RedLockåˆ†å¸ƒå¼é”
    - æ•°æ®ç»“æ„ï¼šStringã€Hashã€Listã€Setã€ZSetã€HyperLogLogã€Bitmap
    - é›†ç¾¤æ¨¡å¼ï¼šä¸»ä»å¤åˆ¶ã€å“¨å…µé«˜å¯ç”¨ã€Clusteråˆ†ç‰‡é›†ç¾¤
- **Memcached (XMemcached 2.4.8)**ï¼šé«˜æ€§èƒ½åˆ†å¸ƒå¼å†…å­˜ç¼“å­˜ç³»ç»Ÿ
    - åº”ç”¨åœºæ™¯ï¼šSessionå…±äº«ã€çƒ­ç‚¹æ•°æ®ç¼“å­˜
- **Caffeine**ï¼šæœ¬åœ°é«˜æ€§èƒ½ç¼“å­˜ï¼ˆè¯»å¤šå†™å°‘åœºæ™¯ï¼‰
    - æ·˜æ±°ç­–ç•¥ï¼šLRUã€LFUã€FIFO
- **ç¼“å­˜æ¶æ„è®¾è®¡**ï¼š
    - å¤šçº§ç¼“å­˜ï¼ˆCaffeineæœ¬åœ° + Redisåˆ†å¸ƒå¼ï¼‰
    - ç¼“å­˜ä¸€è‡´æ€§ï¼ˆCache-Asideã€Read-Throughã€Write-Throughï¼‰
    - ç¼“å­˜ç©¿é€/å‡»ç©¿/é›ªå´©é˜²æŠ¤ï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ã€äº’æ–¥é”ã€ç†”æ–­é™çº§ï¼‰

#### åˆ†å¸ƒå¼åè°ƒä¸é…ç½®ä¸­å¿ƒï¼ˆ3ç§åè°ƒæœåŠ¡ï¼‰

- **Apache Zookeeper 3.9.1**ï¼šåˆ†å¸ƒå¼åè°ƒæœåŠ¡ã€æœåŠ¡æ³¨å†Œå‘ç°ã€åˆ†å¸ƒå¼é”
    - Curator 5.6.0ï¼šZookeeperå®¢æˆ·ç«¯æ¡†æ¶ï¼ˆåˆ†å¸ƒå¼é”ã€Leaderé€‰ä¸¾ã€åˆ†å¸ƒå¼é˜Ÿåˆ—ï¼‰
    - æŠ€æœ¯æ·±åº¦ï¼šZABåè®®ç†è§£ã€Watchæœºåˆ¶ã€ä¸´æ—¶èŠ‚ç‚¹/æŒä¹…èŠ‚ç‚¹
- **Nacos 2.2.4**ï¼šåŠ¨æ€é…ç½®ç®¡ç†ã€æœåŠ¡æ³¨å†Œå‘ç°ã€ç°åº¦å‘å¸ƒ
    - é¡¹ç›®åº”ç”¨ï¼šå¾®æœåŠ¡é…ç½®ä¸­å¿ƒã€ç¯å¢ƒéš”ç¦»ï¼ˆdev/test/prodï¼‰
    - åŠŸèƒ½ï¼šé…ç½®çƒ­æ›´æ–°ã€ç‰ˆæœ¬ç®¡ç†ã€æƒé™æ§åˆ¶
- **Apollo 2.3.0**ï¼šæºç¨‹å¼€æºé…ç½®ä¸­å¿ƒã€é…ç½®ç‰ˆæœ¬ç®¡ç†
    - åŠŸèƒ½ï¼šå®æ—¶æ¨é€ã€ç°åº¦å‘å¸ƒã€æƒé™ç®¡ç†ã€é…ç½®ç»§æ‰¿

#### ä»»åŠ¡è°ƒåº¦ä¸åˆ†å¸ƒå¼äº‹åŠ¡

- **XXL-Job 2.4.1**ï¼šåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ã€ä»»åŠ¡ç›‘æ§ã€å¤±è´¥é‡è¯•
    - é¡¹ç›®åº”ç”¨ï¼šå®šæ—¶å¯¹è´¦ã€æ•°æ®åŒæ­¥ä»»åŠ¡ã€æŠ¥è¡¨ç”Ÿæˆ
    - åŠŸèƒ½ï¼šä»»åŠ¡åˆ†ç‰‡ã€åŠ¨æ€æ‰©å®¹ã€æ‰§è¡Œå™¨è‡ªåŠ¨æ³¨å†Œ
- **Spring Quartz**ï¼šå®šæ—¶ä»»åŠ¡è°ƒåº¦æ¡†æ¶
    - åŠŸèƒ½ï¼šCronè¡¨è¾¾å¼ã€æŒä¹…åŒ–å­˜å‚¨ã€é›†ç¾¤éƒ¨ç½²
- **Seata 1.7.1**ï¼šåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ
    - æ¨¡å¼ï¼šATï¼ˆè‡ªåŠ¨æ¨¡å¼ï¼‰ã€TCCï¼ˆè¡¥å¿æ¨¡å¼ï¼‰ã€Sagaï¼ˆé•¿äº‹åŠ¡ï¼‰
    - æŠ€æœ¯ç†è§£ï¼šä¸¤é˜¶æ®µæäº¤ã€äº‹åŠ¡è¡¥å¿æœºåˆ¶ã€å…¨å±€é”

#### æœç´¢ä¸æ—¥å¿—ï¼ˆELK Stackï¼‰

- **Elasticsearch 8.12.0**ï¼šåˆ†å¸ƒå¼æœç´¢å¼•æ“ã€å…¨æ–‡æ£€ç´¢
    - æŠ€æœ¯æ·±åº¦ï¼šå€’æ’ç´¢å¼•ã€åˆ†è¯å™¨ã€èšåˆæŸ¥è¯¢
    - Spring Data Elasticsearch é›†æˆ
- **Logstash 7.4**ï¼šæ—¥å¿—æ”¶é›†ä¸å¤„ç†
    - LogStash Logback Encoderï¼šæ—¥å¿—æ ¼å¼åŒ–
    - ç®¡é“ï¼šInput â†’ Filter â†’ Output

### âš¡ Javaæ€§èƒ½ä¼˜åŒ–ä¸“é¡¹æŠ€èƒ½

#### JVMæ€§èƒ½è°ƒä¼˜

- **å†…å­˜ç®¡ç†**ï¼šå †å†…å­˜ä¼˜åŒ–ã€GCè°ƒä¼˜å®è·µã€å†…å­˜æ³„æ¼æ’æŸ¥
- **å¹¶å‘ç¼–ç¨‹ä¼˜åŒ–**ï¼šçº¿ç¨‹æ± å‚æ•°è°ƒä¼˜ã€é”ä¼˜åŒ–ç­–ç•¥ã€å¹¶å‘å·¥å…·ç±»åº”ç”¨
- **åº”ç”¨å±‚ä¼˜åŒ–**ï¼šSpring Bootæ€§èƒ½ä¼˜åŒ–ã€æ•°æ®åº“è®¿é—®ä¼˜åŒ–ã€ç½‘ç»œI/Oä¼˜åŒ–

#### æ€§èƒ½ç›‘æ§ä¸åˆ†æ

- **è¯Šæ–­å·¥å…·**ï¼šJDKè‡ªå¸¦å·¥å…·(jps/jstat/jmap)ã€ç¬¬ä¸‰æ–¹å·¥å…·(VisualVM/Arthas)
- **APMç›‘æ§**ï¼šJVMæŒ‡æ ‡ç›‘æ§ã€åº”ç”¨æ€§èƒ½æŒ‡æ ‡ã€ä¸šåŠ¡æŒ‡æ ‡ç»Ÿè®¡
- **å‹åŠ›æµ‹è¯•**ï¼šå•æ¥å£å‹æµ‹ã€åœºæ™¯å‹æµ‹ã€ç“¶é¢ˆåˆ†æã€è°ƒä¼˜è¿­ä»£

### ğŸš€ DevOpsä¸æ¶æ„è¿ç»´æŠ€èƒ½

#### å®¹å™¨åŒ–ä¸ç¼–æ’

- **DockeræŠ€æœ¯æ ˆ**ï¼šé•œåƒä¼˜åŒ–ã€å®¹å™¨è¿è¡Œæ—¶ç®¡ç†ã€é•œåƒä»“åº“ç®¡ç†
- **Kubernetesé›†ç¾¤**ï¼šé›†ç¾¤æ¶æ„è®¾è®¡ã€å·¥ä½œè´Ÿè½½ç®¡ç†ã€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†

#### CI/CDæµæ°´çº¿

- **Jenkinsè‡ªåŠ¨åŒ–**ï¼šPipelineè®¾è®¡ã€åˆ†å¸ƒå¼æ„å»ºã€æ’ä»¶ç”Ÿæ€
- **ä»£ç è´¨é‡ç®¡æ§**ï¼šé™æ€ä»£ç åˆ†æã€å•å…ƒæµ‹è¯•è¦†ç›–ç‡ã€ä»£ç å®¡æŸ¥æµç¨‹

#### ç›‘æ§ä¸å¯è§‚æµ‹æ€§

- **ç³»ç»Ÿç›‘æ§**ï¼šPrometheus+Grafanaç›‘æ§ä½“ç³»ã€æ—¥å¿—ç®¡ç†(ELK Stack)
- **é“¾è·¯è¿½è¸ª**ï¼šJaeger/Zipkinåˆ†å¸ƒå¼è¿½è¸ªã€æ€§èƒ½ç“¶é¢ˆå®šä½

### ğŸ‘¥ æŠ€æœ¯å›¢é˜Ÿé¢†å¯¼ä¸ç®¡ç†æŠ€èƒ½

#### æŠ€æœ¯ç®¡ç†èƒ½åŠ›

- **å›¢é˜Ÿå»ºè®¾**ï¼šäººæ‰æ‹›è˜ã€å›¢é˜ŸåŸ¹å…»ã€ç»©æ•ˆç®¡ç†ã€æŠ€æœ¯è§„åˆ’
- **æŠ€æœ¯å†³ç­–**ï¼šæŠ€æœ¯é€‰å‹å†³ç­–ã€æ¶æ„æ¼”è¿›è§„åˆ’ã€æŠ€æœ¯æ ‡å‡†åˆ¶å®š
- **é¡¹ç›®ç®¡ç†**ï¼šæ•æ·å¼€å‘ç®¡ç†ã€è´¨é‡ç®¡æ§ä½“ç³»ã€è·¨éƒ¨é—¨åä½œ

#### çŸ¥è¯†ç®¡ç†ä¸ä¼ æ‰¿

- **æ–‡æ¡£ä½“ç³»å»ºè®¾**ï¼šæ¶æ„æ–‡æ¡£ã€å¼€å‘æŒ‡å—ã€æœ€ä½³å®è·µæ€»ç»“
- **æŠ€æœ¯åˆ†äº«åŸ¹è®­**ï¼šå†…éƒ¨åˆ†äº«ã€å¤–éƒ¨äº¤æµã€å›¢é˜ŸæŠ€èƒ½æå‡

---

## å·¥ä½œç»å†

### åŒ—äº¬åŒ»ç™¾ç§‘æŠ€æœ‰é™å…¬å¸ | åç«¯å¼€å‘è´Ÿè´£äºº | 2021.06-è‡³ä»Š

**å…¬å¸ç®€ä»‹**ï¼šä¸“æ³¨åŒ»ç–—å¥åº·é¢†åŸŸçš„äº’è”ç½‘ç§‘æŠ€å…¬å¸

**å·¥ä½œèŒè´£**ï¼š

- è´Ÿè´£äº’è”ç½‘åŒ»é™¢äº§å“æ¶æ„è®¾è®¡ä¸å¼€å‘å·¥ä½œï¼Œæ”¯æ’‘æ—¥æ´»10ä¸‡+çš„åŒ»ç–—æœåŠ¡å¹³å°
- è´Ÿè´£åŒ»ç–—å¤§æ¨¡å‹æœåŠ¡ç«¯ä¸šåŠ¡æ¶æ„è®¾è®¡åŠæŒç»­æ¼”è¿›ï¼Œæ„å»ºæ™ºèƒ½è¯Šç–—è¾…åŠ©ç³»ç»Ÿ
- è´Ÿè´£ä¸šåŠ¡å¼€å‘å›¢é˜Ÿçš„æŠ€æœ¯ç®¡ç†å·¥ä½œï¼ŒåŒ…æ‹¬æŠ€æœ¯è§„åˆ’ã€æ¢¯é˜Ÿå»ºè®¾ç­‰ï¼Œç®¡ç†15äººæŠ€æœ¯å›¢é˜Ÿ
- è´Ÿè´£é‡ç‚¹æŠ€æœ¯éš¾å…³å’Œé¡¹ç›®æ”»å…³ï¼Œåè°ƒå†…å¤–éƒ¨èµ„æºï¼Œå¸¦é¢†å›¢é˜ŸæŒ‰æœŸäº¤ä»˜é¡¹ç›®

**æŠ€æœ¯æˆå°±**ï¼š

- è®¾è®¡å¹¶å®æ–½å¾®æœåŠ¡æ¶æ„æ”¹é€ ï¼Œå°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸º20+ä¸ªå¾®æœåŠ¡ï¼Œæå‡ç³»ç»Ÿå¯ç»´æŠ¤æ€§
- æ„å»ºé«˜å¯ç”¨æ¶æ„ä½“ç³»ï¼Œç³»ç»Ÿå¯ç”¨æ€§è¾¾åˆ°99.9%ï¼Œæ”¯æ’‘åŒ»ç–—ä¸šåŠ¡çš„ç¨³å®šè¿è¡Œ
- å»ºç«‹å®Œå–„çš„ç›‘æ§å‘Šè­¦ä½“ç³»ï¼Œå®ç°æ•…éšœå¿«é€Ÿå®šä½å’Œè‡ªåŠ¨æ¢å¤

### æ¬§æ˜“OKExæ•°å­—èµ„äº§äº¤æ˜“å¹³å° | æ¶æ„å¸ˆ | 2020.05-2021.05

**å…¬å¸ç®€ä»‹**ï¼šå…¨çƒé¢†å…ˆçš„æ•°å­—èµ„äº§äº¤æ˜“å¹³å°ï¼Œåƒä¸‡çº§ç”¨æˆ·ä½“é‡ï¼Œè¦†ç›–200+å›½å®¶å’Œåœ°åŒº

**å·¥ä½œèŒè´£**ï¼š

- è´Ÿè´£åŒºå—é“¾åº•å±‚ç ”å‘ï¼ŒåŒ…æ‹¬åº•å±‚åè®®ã€å…±è¯†ç®—æ³•ã€åŠ å¯†ç®—æ³•ã€å­˜å‚¨ã€è·¨é“¾æŠ€æœ¯ç ”ç©¶
- è´Ÿè´£ç”¨æˆ·æ•´ä½“èµ„äº§åŠç™»å½•å®‰å…¨æ¨¡å—çš„ç ”å‘ä¸ç»´æŠ¤ï¼Œä¿éšœç”¨æˆ·èµ„äº§å®‰å…¨
- è´Ÿè´£åŸºäºåŒºå—é“¾æŠ€æœ¯å’Œæ•°å­—è´§å¸è¡ç”Ÿäº§å“çš„éœ€æ±‚è°ƒç ”ã€è§„åˆ’ã€è®¾è®¡å·¥ä½œ

**æŠ€æœ¯æˆå°±**ï¼š

- å‚ä¸è®¾è®¡åŸºäºå†…å­˜çš„é«˜æ€§èƒ½æ’®åˆå¼•æ“ï¼Œæ”¯æ’‘ä¸‡çº§TPSçš„äº¤æ˜“å¹¶å‘
- æŒæ¡Google Protocol Buffersæ•°æ®äº¤æ¢æ ¼å¼ï¼Œä¼˜åŒ–ç³»ç»Ÿé—´é€šä¿¡æ€§èƒ½
- ç ”ç©¶GraphQLæŸ¥è¯¢è¯­è¨€ï¼Œæå‡æ•°æ®æŸ¥è¯¢æ•ˆç‡å’Œçµæ´»æ€§

### ä¹è§†ç½‘ä¿¡æ¯æŠ€æœ¯ | æŠ€æœ¯ç»ç† | 2018.05-2020.04

**å·¥ä½œèŒè´£**ï¼š

- ä¸»è¦è´Ÿè´£ç®¡ç†ã€è®¾è®¡ã€ç ”å‘ã€ç»„ç»‡ä¹è§†å¯¹å¤–å•†åŠ¡å¼€å‘ç­‰ä¸šåŠ¡åˆä½œç³»ç»Ÿ
- ç‹¬ç«‹è´Ÿè´£ç ”å‘å¤šä¸ªå¤§å‹é¡¹ç›®ï¼šæ¯”é‚»é™Œç”Ÿäººç¤¾äº¤äº§å“ã€ç»«è‡´æ—¶è£…åº“å­˜ç³»ç»Ÿã€ç§¯åˆ†å‡ºè¡Œé¡¹ç›®
- è´Ÿè´£å…¬å¸å†…éƒ¨å¤–å»¶ç³»ç»Ÿç»´æŠ¤ï¼ŒåŒ…æ‹¬æŠ¥è¡¨ç³»ç»Ÿã€ä¼ä¸šé€šè®¯åå°ç­‰

**æŠ€æœ¯æˆå°±**ï¼š

- æˆåŠŸä¸Šçº¿ç§¯åˆ†å‡ºè¡Œé¡¹ç›®ï¼Œä¸åŒ—äº¬åœ°é“ã€å¹¿å·åœ°é“åˆä½œï¼ŒæœåŠ¡ç™¾ä¸‡çº§ç”¨æˆ·
- è®¾è®¡å¹¶å®ç°é«˜å¹¶å‘çš„ç¤¾äº¤äº§å“æ¶æ„ï¼Œæ”¯æ’‘åƒä¸‡çº§ç”¨æˆ·è§„æ¨¡

### åŒ—äº¬å­—èŠ‚è·³åŠ¨ç§‘æŠ€æœ‰é™å…¬å¸ | æŠ€æœ¯ä¸“å®¶ | 2016.06-2018.04

**å·¥ä½œèŒè´£**ï¼š

- è´Ÿè´£å†…å®¹åˆ†å‘å·¥ä½œï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œæå‡ç”¨æˆ·è·å–èµ„è®¯çš„æ•ˆç‡
- å®æ—¶æŒ–æ˜æ–°é—»çƒ­ç‚¹ï¼Œå¯¹æ–°é—»äº‹ä»¶è¿›è¡Œè¯†åˆ«å’Œæ¨èç®—æ³•ä¼˜åŒ–
- æ·±å…¥ç†è§£ä¸šåŠ¡æ•°æ®ï¼Œæ„å»ºç”¨æˆ·ç”»åƒï¼Œä¼˜åŒ–ä¸ªæ€§åŒ–æ¨èæ•ˆæœ

**æŠ€æœ¯æˆå°±**ï¼š

- ç†Ÿæ‚‰ååŒè¿‡æ»¤ç­‰æ¨èç®—æ³•ï¼Œå…·å¤‡å®æˆ˜ç»éªŒï¼Œæå‡æ¨èå‡†ç¡®ç‡15%
- å…·å¤‡æ¨èç³»ç»Ÿç®—æ³•ç ”å‘ç»éªŒï¼Œå¯¹ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿæœ‰æ·±åˆ»ç†è§£
- ä¼˜åŒ–ç½‘ç»œç»“æ„å’Œå†…å­˜ä½¿ç”¨ï¼Œå¤§å¹…é™ä½ç³»ç»Ÿè¿è¡Œæ—¶é—´

### è¿œæ´‹åœ°äº§ | é«˜çº§Javaå·¥ç¨‹å¸ˆ | 2014.01-2016.05

**å·¥ä½œèŒè´£**ï¼š

- è®¾è®¡å’Œç¼–å†™å·¥ä½œæµé¡¹ç›®æŠ€æœ¯æ–‡æ¡£åŠç¼–ç å·¥ä½œï¼ŒåŒ…æ‹¬NetFlowå·¥ä½œæµå¼•æ“
- å‚ä¸äº‘ç›‘æ§é¡¹ç›®ç ”å‘ï¼Œè¦†ç›–é›†å›¢æ‰€æœ‰å¼€å‘ä¸šåŠ¡çº¿

**æŠ€æœ¯æˆå°±**ï¼š

- è®¾è®¡åŸºäºBPMN2æ ‡å‡†çš„å·¥ä½œæµè§„èŒƒï¼Œæ”¯æŒå¤šç«¯å¯è§†åŒ–é—¨æˆ·
- é€šè¿‡è´Ÿè½½å‡è¡¡ã€BBRåè®®ç­‰æŠ€æœ¯å®ç°å¤§å®¹é‡æ—¥å¿—çš„ç¨³å®šåˆ†å‘

---

## æ ¸å¿ƒé¡¹ç›®ç»å†

### AIåŒ»ç–—å¤§æ¨¡å‹æ™ºèƒ½è¯Šç–—ç³»ç»Ÿ | 2024.01-2025.12

**é¡¹ç›®èƒŒæ™¯**ï¼šåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ„å»ºæ™ºèƒ½åŒ»ç–—é—®ç­”å’Œè¯Šç–—è¾…åŠ©ç³»ç»Ÿï¼Œä¸ºåŒ»ç”Ÿå’Œæ‚£è€…æä¾›ä¸“ä¸šçš„åŒ»ç–—å’¨è¯¢æœåŠ¡

**æŠ€æœ¯æ¶æ„**ï¼š

- **æ ¸å¿ƒæ¡†æ¶**ï¼šSpring Boot 3.3.x + Spring AI 1.0.x + LangChain4j 0.35.x
- **ç¼–ç¨‹è¯­è¨€**ï¼šJava 21ï¼ˆVirtual Threadsè™šæ‹Ÿçº¿ç¨‹ï¼Œæ”¯æŒç™¾ä¸‡çº§å¹¶å‘ï¼‰
- **AIæŠ€æœ¯æ ˆ**ï¼š
    - å¤§æ¨¡å‹ï¼šOpenAI GPT-4ã€Claude 3.5 Sonnetã€é€šä¹‰åƒé—®Qwen-Max
    - Embeddingæ¨¡å‹ï¼štext-embedding-3-largeã€BGE-large-zhï¼ˆä¸­æ–‡ä¼˜åŒ–ï¼‰
    - å‘é‡æ•°æ®åº“ï¼šMilvus 2.4.xï¼ˆåŒ»ç–—çŸ¥è¯†åº“å‘é‡å­˜å‚¨ï¼Œåƒä¸‡çº§å‘é‡æ£€ç´¢ï¼‰
- **RAGæ¶æ„**ï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ï¼š
    - æ–‡æ¡£è§£æï¼šApache Tikaï¼ˆPDF/Word/HTMLè§£æï¼‰
    - æ–‡æœ¬åˆ†å—ï¼šRecursiveCharacterTextSplitterï¼ˆè¯­ä¹‰å®Œæ•´æ€§åˆ‡åˆ†ï¼‰
    - å‘é‡æ£€ç´¢ï¼šMilvus HNSWç´¢å¼•ï¼ˆP99å»¶è¿Ÿ<50msï¼‰
    - æ··åˆæ£€ç´¢ï¼šBM25ï¼ˆå…³é”®è¯ï¼‰+ Dense Retrievalï¼ˆè¯­ä¹‰ç›¸ä¼¼åº¦ï¼‰
- **çŸ¥è¯†åº“ç®¡ç†**ï¼š
    - åŒ»ç–—çŸ¥è¯†å›¾è°±ï¼šNeo4j 5.xï¼ˆç–¾ç—…-ç—‡çŠ¶-è¯ç‰©å…³è”ï¼‰
    - ç»“æ„åŒ–æ•°æ®ï¼šPostgreSQL 16.x + pgvectoræ‰©å±•
- **å¾®æœåŠ¡æ¶æ„**ï¼š
    - APIç½‘å…³ï¼šSpring Cloud Gatewayï¼ˆWebFluxååº”å¼ç¼–ç¨‹ï¼‰
    - æœåŠ¡æ²»ç†ï¼šNacos 2.4.xï¼ˆé…ç½®ä¸­å¿ƒ+æœåŠ¡å‘ç°ï¼‰
    - æ¶ˆæ¯é˜Ÿåˆ—ï¼šKafka 3.6.xï¼ˆå¯¹è¯å†å²å¼‚æ­¥å­˜å‚¨ã€ç”¨æˆ·è¡Œä¸ºåˆ†æï¼‰
- **ç¼“å­˜ä¼˜åŒ–**ï¼š
    - Redis 7.2.xï¼ˆPromptç¼“å­˜ã€å¯¹è¯ä¸Šä¸‹æ–‡ç¼“å­˜ã€TTL 30åˆ†é’Ÿï¼‰
    - Caffeineï¼ˆé«˜é¢‘æŸ¥è¯¢æœ¬åœ°ç¼“å­˜ï¼‰
- **å¯è§‚æµ‹æ€§**ï¼š
    - OpenTelemetryï¼ˆç«¯åˆ°ç«¯é“¾è·¯è¿½è¸ªã€Tokenæ¶ˆè€—ç›‘æ§ï¼‰
    - Prometheus + Grafanaï¼ˆLLMè°ƒç”¨å»¶è¿ŸP50/P90/P99ã€å‡†ç¡®ç‡ç›‘æ§ï¼‰

**æ ¸å¿ƒåŠŸèƒ½å®ç°**ï¼š

#### 1. RAGæ™ºèƒ½é—®ç­”ç³»ç»Ÿ

**æŠ€æœ¯å®ç°**ï¼š

```java
// LangChain4jé›†æˆç¤ºä¾‹
ChatLanguageModel model = OpenAiChatModel.builder()
    .apiKey(System.getenv("OPENAI_API_KEY"))
    .modelName("gpt-4-turbo")
    .temperature(0.3)  // é™ä½éšæœºæ€§ï¼Œæé«˜å‡†ç¡®æ€§
    .build();

EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
    .apiKey(System.getenv("OPENAI_API_KEY"))
    .modelName("text-embedding-3-large")
    .build();

// Milvuså‘é‡å­˜å‚¨
EmbeddingStore<TextSegment> embeddingStore =
    MilvusEmbeddingStore.builder()
        .host("milvus-server")
        .port(19530)
        .collectionName("medical_knowledge")
        .dimension(3072)  // text-embedding-3-largeç»´åº¦
        .build();

// RAGé“¾è·¯
ContentRetriever retriever = EmbeddingStoreContentRetriever.builder()
    .embeddingStore(embeddingStore)
    .embeddingModel(embeddingModel)
    .maxResults(5)
    .minScore(0.7)
    .build();

RetrievalAugmentor augmentor = DefaultRetrievalAugmentor.builder()
    .contentRetriever(retriever)
    .build();

// AIæœåŠ¡æ¥å£
interface MedicalAssistant {
    @SystemMessage("ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŒ»ç–—åŠ©æ‰‹ï¼ŒåŸºäºæä¾›çš„åŒ»ç–—çŸ¥è¯†åº“å›ç­”é—®é¢˜ã€‚")
    String chat(@UserMessage String userMessage);
}

MedicalAssistant assistant = AiServices.builder(MedicalAssistant.class)
    .chatLanguageModel(model)
    .retrievalAugmentor(augmentor)
    .build();
```

**ä¼˜åŒ–ç­–ç•¥**ï¼š

- **æ··åˆæ£€ç´¢**ï¼šBM25å…³é”®è¯ + å‘é‡è¯­ä¹‰ï¼Œå¬å›ç‡æå‡30%
- **é‡æ’åº**ï¼šCohere Rerankæ¨¡å‹ï¼ŒTop-5å‡†ç¡®ç‡æå‡15%
- **Promptå·¥ç¨‹**ï¼šFew-shotå­¦ä¹ ã€Chain-of-Thoughtï¼ˆCOTï¼‰æ€ç»´é“¾
- **å“åº”æµå¼è¾“å‡º**ï¼šSSEï¼ˆServer-Sent Eventsï¼‰ï¼Œé™ä½é¦–å­—å“åº”æ—¶é—´ï¼ˆTTFBï¼‰

#### 2. Virtual Threadsé«˜å¹¶å‘ä¼˜åŒ–

**é—®é¢˜èƒŒæ™¯**ï¼šä¼ ç»Ÿçº¿ç¨‹æ± åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¤§é‡çº¿ç¨‹é˜»å¡åœ¨I/Oæ“ä½œï¼ˆLLM APIè°ƒç”¨ã€å‘é‡æ£€ç´¢ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š

```java
@Configuration
public class VirtualThreadConfig {
    @Bean
    public AsyncTaskExecutor applicationTaskExecutor() {
        TaskExecutorAdapter adapter = new TaskExecutorAdapter(
            Executors.newVirtualThreadPerTaskExecutor()  // Java 21è™šæ‹Ÿçº¿ç¨‹
        );
        return adapter;
    }
}

@Service
public class MedicalQueryService {
    @Async  // è‡ªåŠ¨ä½¿ç”¨Virtual Threads
    public CompletableFuture<QueryResult> processQuery(String question) {
        // 1. å‘é‡æ£€ç´¢ï¼ˆI/Oå¯†é›†ï¼‰
        List<Document> docs = vectorStore.search(question, 5);

        // 2. LLM APIè°ƒç”¨ï¼ˆI/Oå¯†é›†ï¼‰
        String answer = llmClient.chat(question, docs);

        return CompletableFuture.completedFuture(new QueryResult(answer));
    }
}
```

**æ€§èƒ½æå‡**ï¼š

- å¹¶å‘èƒ½åŠ›ï¼šä»2000 QPSæå‡åˆ°20000 QPSï¼ˆ10å€æå‡ï¼‰
- å†…å­˜å ç”¨ï¼šä»8GBé™ä½åˆ°2GBï¼ˆ75%é™ä½ï¼‰
- çº¿ç¨‹æ•°ï¼šæ”¯æŒç™¾ä¸‡çº§è™šæ‹Ÿçº¿ç¨‹ï¼Œæ— éœ€çº¿ç¨‹æ± è°ƒä¼˜

#### 3. åŒ»ç–—çŸ¥è¯†åº“æ„å»ºä¸æ›´æ–°

**çŸ¥è¯†æ¥æº**ï¼š

- æƒå¨åŒ»å­¦æ–‡çŒ®ï¼šPubMedã€ä¸­å›½çŸ¥ç½‘ã€ä¸´åºŠæŒ‡å—ï¼ˆ50ä¸‡+ç¯‡ï¼‰
- åŒ»å­¦æ•™æï¼šã€Šå†…ç§‘å­¦ã€‹ã€Šå¤–ç§‘å­¦ã€‹ç­‰ï¼ˆPDFæ ¼å¼ï¼‰
- åŒ»é™¢ç—…å†æ•°æ®ï¼šè„±æ•åçš„ç”µå­ç—…å†ï¼ˆç»“æ„åŒ–+éç»“æ„åŒ–ï¼‰

**æ•°æ®å¤„ç†æµç¨‹**ï¼š

```
PDF/Word â†’ Apache Tikaè§£æ â†’ æ–‡æœ¬æ¸…æ´— â†’
è¯­ä¹‰åˆ†å—ï¼ˆ512 tokens/chunkï¼‰ â†’ Embeddingå‘é‡åŒ– â†’
Milvuså‘é‡å­˜å‚¨ï¼ˆHNSWç´¢å¼•ï¼‰â†’ å®šæœŸæ›´æ–°ï¼ˆå¢é‡ç´¢å¼•ï¼‰
```

**å‘é‡æ£€ç´¢ä¼˜åŒ–**ï¼š

- ç´¢å¼•ç±»å‹ï¼šHNSWï¼ˆHierarchical Navigable Small Worldï¼‰
- ç´¢å¼•å‚æ•°ï¼šM=16, efConstruction=200
- æŸ¥è¯¢å‚æ•°ï¼šef=100ï¼ˆå¹³è¡¡å‡†ç¡®ç‡ä¸æ€§èƒ½ï¼‰
- æ£€ç´¢å»¶è¿Ÿï¼šP99 < 50msï¼ˆåƒä¸‡çº§å‘é‡ï¼‰

#### 4. Promptå·¥ç¨‹ä¸æ¨¡å‹ä¼˜åŒ–

**Promptæ¨¡æ¿è®¾è®¡**ï¼š

```
ç³»ç»Ÿè§’è‰²ï¼šä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŒ»ç–—åŠ©æ‰‹ï¼Œæ‹¥æœ‰10å¹´ä¸´åºŠç»éªŒã€‚

ä»»åŠ¡ï¼šåŸºäºä»¥ä¸‹åŒ»ç–—çŸ¥è¯†åº“å†…å®¹ï¼Œå›ç­”æ‚£è€…çš„é—®é¢˜ã€‚

çŸ¥è¯†åº“å†…å®¹ï¼š
{retrieved_documents}

æ‚£è€…é—®é¢˜ï¼š{user_question}

å›ç­”è¦æ±‚ï¼š
1. åŸºäºçŸ¥è¯†åº“å†…å®¹å›ç­”ï¼Œä¸è¦ç¼–é€ ä¿¡æ¯
2. å¦‚æœçŸ¥è¯†åº“ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·
3. ä½¿ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œé¿å…è¿‡å¤šåŒ»å­¦æœ¯è¯­
4. ä¸¥é‡ç—‡çŠ¶å»ºè®®ç«‹å³å°±åŒ»

å›ç­”ï¼š
```

**æ¨¡å‹è°ƒä¼˜**ï¼š

- Temperatureï¼š0.3ï¼ˆé™ä½éšæœºæ€§ï¼Œæé«˜å‡†ç¡®æ€§ï¼‰
- Top-Pï¼š0.9ï¼ˆæ ¸é‡‡æ ·ï¼Œè¿‡æ»¤ä½æ¦‚ç‡è¯ï¼‰
- Max Tokensï¼š1500ï¼ˆæ§åˆ¶å›ç­”é•¿åº¦ï¼‰
- Frequency Penaltyï¼š0.3ï¼ˆå‡å°‘é‡å¤ï¼‰

**æ ¸å¿ƒæˆæœ**ï¼š

- **ç”¨æˆ·è§„æ¨¡**ï¼šæœåŠ¡100ä¸‡+æ‚£è€…å’Œ1ä¸‡+åŒ»ç”Ÿï¼Œæ—¥å‡å¯¹è¯50ä¸‡æ¬¡
- **å‡†ç¡®ç‡**ï¼šåŒ»ç–—é—®ç­”å‡†ç¡®ç‡92%ï¼ˆäººå·¥è¯„ä¼°ï¼Œ1000æ ·æœ¬ï¼‰
- **å“åº”é€Ÿåº¦**ï¼šP99å»¶è¿Ÿ<3ç§’ï¼ˆå«LLMè°ƒç”¨ï¼‰ï¼ŒTTFB<500ms
- **æˆæœ¬ä¼˜åŒ–**ï¼šé€šè¿‡Promptç¼“å­˜å’Œç»“æœç¼“å­˜ï¼ŒLLM APIæˆæœ¬é™ä½40%
- **çŸ¥è¯†åº“è§„æ¨¡**ï¼š1000ä¸‡+å‘é‡ï¼ˆåŒ»ç–—æ–‡çŒ®ã€ç—…å†ã€æŒ‡å—ï¼‰
- **å¹¶å‘èƒ½åŠ›**ï¼šVirtual Threadsæ”¯æŒ20000 QPSï¼ŒæœåŠ¡å™¨èµ„æºåˆ©ç”¨ç‡<30%
- **ä¸šåŠ¡ä»·å€¼**ï¼šåŒ»ç”Ÿè¯Šæ–­æ•ˆç‡æå‡35%ï¼Œæ‚£è€…å°±åŒ»å‰å’¨è¯¢ç‡æå‡60%

**æŠ€æœ¯äº®ç‚¹**ï¼š

- **Java 21è™šæ‹Ÿçº¿ç¨‹**ï¼šä»2000 QPSæå‡åˆ°20000 QPSï¼Œå†…å­˜å ç”¨é™ä½75%
- **RAGæ¶æ„**ï¼šæ··åˆæ£€ç´¢+é‡æ’åºï¼ŒçŸ¥è¯†åº“å¬å›å‡†ç¡®ç‡92%
- **å‘é‡æ£€ç´¢ä¼˜åŒ–**ï¼šMilvus HNSWç´¢å¼•ï¼Œåƒä¸‡çº§å‘é‡P99å»¶è¿Ÿ<50ms
- **Promptå·¥ç¨‹**ï¼šFew-shot + COTï¼ŒLLMå‡†ç¡®ç‡æå‡15%
- **æµå¼è¾“å‡º**ï¼šSSEåè®®ï¼ŒTTFBä»2ç§’é™ä½åˆ°500msï¼Œç”¨æˆ·ä½“éªŒå¤§å¹…æå‡
- **å¯è§‚æµ‹æ€§**ï¼šOpenTelemetryå…¨é“¾è·¯è¿½è¸ªï¼ŒTokenæ¶ˆè€—ã€å»¶è¿Ÿã€å‡†ç¡®ç‡å®æ—¶ç›‘æ§
- **æˆæœ¬æ§åˆ¶**ï¼šPromptç¼“å­˜ç­–ç•¥ï¼ŒAPIæˆæœ¬é™ä½40%

### äº‘åŸç”Ÿå¾®æœåŠ¡å¹³å°K8sç”Ÿäº§å®è·µ | 2023.06-2024.12

**é¡¹ç›®èƒŒæ™¯**ï¼šå°†ä¼ ç»Ÿå¾®æœåŠ¡æ¶æ„è¿ç§»åˆ°Kubernetesäº‘åŸç”Ÿå¹³å°ï¼Œæ„å»ºé«˜å¯ç”¨ã€å¼¹æ€§ä¼¸ç¼©ã€å¯è§‚æµ‹çš„ç°ä»£åŒ–å¾®æœåŠ¡ä½“ç³»

**æŠ€æœ¯æ¶æ„**ï¼š

- **å®¹å™¨ç¼–æ’**ï¼šKubernetes 1.30.xï¼ˆ20èŠ‚ç‚¹ç”Ÿäº§é›†ç¾¤ï¼Œæ”¯æ’‘50+å¾®æœåŠ¡ï¼‰
- **æœåŠ¡ç½‘æ ¼**ï¼šIstio 1.21.xï¼ˆæµé‡ç®¡ç†ã€ç°åº¦å‘å¸ƒã€ç†”æ–­é™çº§ï¼‰
- **GitOps**ï¼šArgoCD 2.11.xï¼ˆå£°æ˜å¼éƒ¨ç½²ã€è‡ªåŠ¨åŒæ­¥ã€å›æ»šï¼‰
- **CI/CD**ï¼šJenkins X + Tektonï¼ˆäº‘åŸç”Ÿæµæ°´çº¿ï¼‰
- **ç›‘æ§ä½“ç³»**ï¼š
    - Prometheus + Grafanaï¼ˆæŒ‡æ ‡ç›‘æ§ã€PromQLæŸ¥è¯¢ã€å‘Šè­¦ï¼‰
    - Lokiï¼ˆæ—¥å¿—èšåˆã€LogQLæŸ¥è¯¢ï¼‰
    - Tempoï¼ˆåˆ†å¸ƒå¼è¿½è¸ªï¼‰
    - Jaegerï¼ˆé“¾è·¯å¯è§†åŒ–ï¼‰
- **é•œåƒä»“åº“**ï¼šHarbor 2.xï¼ˆé•œåƒæ‰«æã€ç­¾åã€æ¼æ´æ£€æµ‹ï¼‰
- **é…ç½®ç®¡ç†**ï¼šHelm 3.xï¼ˆåº”ç”¨æ‰“åŒ…ã€ç‰ˆæœ¬ç®¡ç†ï¼‰

**æ ¸å¿ƒå®ç°**ï¼š

#### 1. Istio Service Meshæµé‡æ²»ç†

**ç°åº¦å‘å¸ƒï¼ˆCanary Deploymentï¼‰**ï¼š

```yaml
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: user-service
spec:
  hosts:
  - user-service
  http:
  - match:
    - headers:
        x-canary:
          exact: "true"
    route:
    - destination:
        host: user-service
        subset: v2
  - route:
    - destination:
        host: user-service
        subset: v1
      weight: 90
    - destination:
        host: user-service
        subset: v2
      weight: 10  # 10%æµé‡åˆ°æ–°ç‰ˆæœ¬
```

**ç†”æ–­é™çº§**ï¼š

```yaml
apiVersion: networking.istio.io/v1beta1
kind: DestinationRule
metadata:
  name: user-service
spec:
  host: user-service
  trafficPolicy:
    connectionPool:
      tcp:
        maxConnections: 100
      http:
        http1MaxPendingRequests: 50
        maxRequestsPerConnection: 2
    outlierDetection:
      consecutiveErrors: 5
      interval: 30s
      baseEjectionTime: 30s
      maxEjectionPercent: 50
```

#### 2. HPA + VPAè‡ªåŠ¨ä¼¸ç¼©

**æ°´å¹³ä¼¸ç¼©ï¼ˆHPAï¼‰**ï¼š

```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: user-service-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: user-service
  minReplicas: 3
  maxReplicas: 50
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
  - type: Pods
    pods:
      metric:
        name: http_requests_per_second
      target:
        type: AverageValue
        averageValue: "1000"
```

#### 3. ArgoCD GitOpsè‡ªåŠ¨åŒ–éƒ¨ç½²

**å£°æ˜å¼é…ç½®**ï¼š

```yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: user-service
spec:
  project: default
  source:
    repoURL: https://github.com/company/microservices
    targetRevision: main
    path: user-service/k8s
  destination:
    server: https://kubernetes.default.svc
    namespace: production
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
    - CreateNamespace=true
```

**æ ¸å¿ƒæˆæœ**ï¼š

- **é«˜å¯ç”¨æ€§**ï¼šç³»ç»Ÿå¯ç”¨æ€§ä»99.9%æå‡åˆ°99.99%ï¼ˆå¹´åœæœºæ—¶é—´<1å°æ—¶ï¼‰
- **å¼¹æ€§ä¼¸ç¼©**ï¼šè‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œé«˜å³°æœŸè‡ªåŠ¨æ‰©å±•åˆ°300 Podï¼Œæˆæœ¬èŠ‚çœ40%
- **éƒ¨ç½²æ•ˆç‡**ï¼šéƒ¨ç½²é¢‘ç‡ä»å‘¨çº§æå‡åˆ°æ—¥å‡20æ¬¡ï¼Œå›æ»šæ—¶é—´ä»30åˆ†é’Ÿé™ä½åˆ°1åˆ†é’Ÿ
- **æ•…éšœæ¢å¤**ï¼šMTTRï¼ˆå¹³å‡æ¢å¤æ—¶é—´ï¼‰ä»30åˆ†é’Ÿé™ä½åˆ°5åˆ†é’Ÿ
- **æµé‡æ²»ç†**ï¼šç°åº¦å‘å¸ƒæˆåŠŸç‡100%ï¼Œé›¶æ•…éšœä¸Šçº¿
- **èµ„æºåˆ©ç”¨ç‡**ï¼šé›†ç¾¤èµ„æºåˆ©ç”¨ç‡ä»40%æå‡åˆ°70%
- **å¯è§‚æµ‹æ€§**ï¼šå…¨é“¾è·¯è¿½è¸ªè¦†ç›–ç‡100%ï¼Œæ•…éšœæ ¹å› åˆ†ææ—¶é—´ä»å°æ—¶çº§é™ä½åˆ°åˆ†é’Ÿçº§

**æŠ€æœ¯äº®ç‚¹**ï¼š

- **Istio Service Mesh**ï¼šé€æ˜çš„æµé‡ç®¡ç†ã€ç†”æ–­é™çº§ã€ç°åº¦å‘å¸ƒ
- **GitOpså®è·µ**ï¼šArgoCDå£°æ˜å¼éƒ¨ç½²ï¼Œé…ç½®å³ä»£ç ï¼Œå®¡è®¡è¿½æº¯
- **å¤šç»´åº¦ä¼¸ç¼©**ï¼šHPAï¼ˆCPU/å†…å­˜/è‡ªå®šä¹‰æŒ‡æ ‡ï¼‰+ VPAï¼ˆèµ„æºæ¨èï¼‰
- **å…¨é“¾è·¯ç›‘æ§**ï¼šPrometheus + Loki + Tempoï¼Œç»Ÿä¸€å¯è§‚æµ‹æ€§å¹³å°
- **é›¶åœæœºéƒ¨ç½²**ï¼šæ»šåŠ¨æ›´æ–° + å¥åº·æ£€æŸ¥ï¼ŒæœåŠ¡ä¸ä¸­æ–­

### äº’è”ç½‘åŒ»é™¢æ¶æ„è®¾è®¡ä¸å®æ–½ | 2021.06-2023.12

**é¡¹ç›®èƒŒæ™¯**ï¼šæ„å»ºé¢å‘Cç«¯ç”¨æˆ·å’ŒBç«¯åŒ»ç–—æœºæ„çš„äº’è”ç½‘åŒ»é™¢å¹³å°

**æŠ€æœ¯æ¶æ„**ï¼š

- **å¾®æœåŠ¡æ¶æ„**ï¼šSpring Cloud + Kubernetesï¼Œ20+å¾®æœåŠ¡æ¨¡å—
- **æ•°æ®åº“**ï¼šMySQLä¸»ä»é›†ç¾¤ + Redisé›†ç¾¤ + MongoDB
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šRocketMQå¤„ç†è®¢å•ã€æ”¯ä»˜ã€é€šçŸ¥ç­‰å¼‚æ­¥ä¸šåŠ¡
- **ç›‘æ§ä½“ç³»**ï¼šPrometheus + Grafana + ELK Stack

**æ ¸å¿ƒæˆæœ**ï¼š

- æ”¯æ’‘æ—¥æ´»10ä¸‡+ç”¨æˆ·ï¼Œæœˆè®¢å•é‡100ä¸‡+
- ç³»ç»Ÿå¯ç”¨æ€§99.9%ï¼Œå¹³å‡å“åº”æ—¶é—´<200ms
- æ„å»ºå®Œæ•´çš„åŒ»ç–—ä¸šåŠ¡ä¸­å°ï¼Œæ”¯æ’‘å¤šæ¡äº§å“çº¿å¿«é€Ÿè¿­ä»£

### ç”µå•†è®¢å•ç³»ç»ŸDDDæ¶æ„é‡æ„ | 2021.03-2021.06

**é¡¹ç›®èƒŒæ™¯**ï¼šå°†ä¼ ç»Ÿçš„è´«è¡€æ¨¡å‹ç”µå•†è®¢å•ç³»ç»Ÿé‡æ„ä¸ºé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰æ¶æ„ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§å’Œä¸šåŠ¡è¡¨è¾¾åŠ›

**æŠ€æœ¯æ¶æ„**ï¼š

- **æ¡†æ¶**ï¼šSpring Boot 3.5.5 + Spring Data JPA
- **ç¼–ç¨‹è¯­è¨€**ï¼šJava 21ï¼ˆæ”¯æŒRecordsã€Sealed Classesç­‰ç°ä»£ç‰¹æ€§ï¼‰
- **æ¶æ„æ¨¡å¼**ï¼šDDDå››å±‚æ¶æ„ï¼ˆå±•ç¤ºå±‚ã€åº”ç”¨å±‚ã€é¢†åŸŸå±‚ã€åŸºç¡€è®¾æ–½å±‚ï¼‰
- **è®¾è®¡æ¨¡å¼**ï¼šèšåˆæ ¹ã€å€¼å¯¹è±¡ã€ä»“å‚¨ã€é¢†åŸŸäº‹ä»¶ã€å·¥å‚æ¨¡å¼

**DDDå››å±‚æ¶æ„è®¾è®¡**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Application Layer (åº”ç”¨æœåŠ¡)                            â”‚
â”‚  - OrderApplicationService: åè°ƒä¸šåŠ¡æµç¨‹                â”‚
â”‚  - DTOè½¬æ¢ã€äº‹åŠ¡ç®¡ç†ã€æœåŠ¡ç¼–æ’                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Domain Layer (é¢†åŸŸæ¨¡å‹ - æ ¸å¿ƒ)                          â”‚
â”‚  - Aggregate Root: Order, Customer, Product             â”‚
â”‚  - Entity: OrderItem                                    â”‚
â”‚  - Value Object: Money, Address, Email, OrderStatus    â”‚
â”‚  - Domain Service: è·¨èšåˆçš„ä¸šåŠ¡é€»è¾‘                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Infrastructure Layer (åŸºç¡€è®¾æ–½)                         â”‚
â”‚  - Repository: OrderRepository, CustomerRepository      â”‚
â”‚  - æŒä¹…åŒ–å®ç°: Spring Data JPA + InMemoryå®ç°            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Presentation Layer (å±•ç¤ºå±‚)                            â”‚
â”‚  - REST API / DTOå¯¹è±¡                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒè®¾è®¡å®ç°**ï¼š

#### 1. å€¼å¯¹è±¡ï¼ˆValue Objectï¼‰- ç±»å‹å®‰å…¨çš„é‡‘èè®¡ç®—

**æ–‡ä»¶è·¯å¾„**ï¼š`domain/valueobject/Money.java`

**è®¾è®¡ç‰¹ç‚¹**ï¼š

- **ä¸å¯å˜æ€§**ï¼šæ‰€æœ‰å­—æ®µ`final`ï¼Œçº¿ç¨‹å®‰å…¨
- **è¡Œä¸ºå°è£…**ï¼šä¸æš´éœ²å†…éƒ¨æ•°æ®ï¼Œæä¾›é¢†åŸŸè¡Œä¸ºæ–¹æ³•
- **ç›¸ç­‰æ€§æ¯”è¾ƒ**ï¼šåŸºäºå€¼ç›¸ç­‰ï¼Œè€Œéå¼•ç”¨ç›¸ç­‰

```java
public class Money {
    private final BigDecimal amount;    // é‡‘é¢
    private final String currency;      // å¸ç§ï¼šCNY/USD/BTC

    // é¢†åŸŸè¡Œä¸ºæ–¹æ³•ï¼ˆè€Œéç®€å•çš„Getterï¼‰
    public Money add(Money other) {
        validateSameCurrency(other);
        return new Money(this.amount.add(other.amount), this.currency);
    }

    public Money subtract(Money other) { ...}

    public Money multiply(BigDecimal multiplier) { ...}

    public boolean greaterThan(Money other) { ...}

    // å€¼å¯¹è±¡ç‰¹æ€§ï¼šequals/hashCodeåŸºäºå†…å®¹
    @Override
    public boolean equals(Object o) {
        if (!(o instanceof Money)) return false;
        Money other = (Money) o;
        return amount.compareTo(other.amount) == 0
                && currency.equals(other.currency);
    }
}
```

**å…¶ä»–å€¼å¯¹è±¡**ï¼š

- `Address`ï¼šçœå¸‚åŒºè¡—é“é‚®ç¼–çš„èšåˆï¼Œæä¾›`getFullAddress()`æ–¹æ³•
- `Email`ï¼šé‚®ç®±éªŒè¯é€»è¾‘å°è£…
- `OrderStatus`ï¼šè®¢å•çŠ¶æ€æšä¸¾ï¼ˆPENDING/CONFIRMED/SHIPPED/DELIVERED/CANCELLEDï¼‰

#### 2. èšåˆæ ¹ï¼ˆAggregate Rootï¼‰- è®¢å•ä¸šåŠ¡è§„åˆ™å°è£…

**æ–‡ä»¶è·¯å¾„**ï¼š`domain/aggregate/Order.java`

**è®¾è®¡ç†å¿µ**ï¼š

- **èšåˆè¾¹ç•Œ**ï¼šOrderæ˜¯èšåˆæ ¹ï¼Œæ§åˆ¶OrderItemé›†åˆçš„è®¿é—®
- **ä¸šåŠ¡è§„åˆ™å†…èš**ï¼šæ‰€æœ‰è®¢å•ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘éƒ½åœ¨èšåˆå†…éƒ¨
- **ä¸å˜æ€§çº¦æŸ**ï¼šé€šè¿‡æ–¹æ³•è€ŒéSetterä¿®æ”¹çŠ¶æ€ï¼Œä¿è¯å¯¹è±¡å§‹ç»ˆæœ‰æ•ˆ

```java
public class Order {
    private Long id;
    private Customer customer;                    // å…³è”å…¶ä»–èšåˆæ ¹
    private List<OrderItem> orderItems;          // å†…éƒ¨å®ä½“é›†åˆ
    private OrderStatus status;                   // å€¼å¯¹è±¡
    private Address shippingAddress;              // å€¼å¯¹è±¡
    private Money totalAmount;                    // å€¼å¯¹è±¡

    // ä¸šåŠ¡è¡Œä¸ºï¼šæ·»åŠ è®¢å•é¡¹
    public void addOrderItem(Product product, int quantity) {
        // ä¸šåŠ¡è§„åˆ™1ï¼šå•†å“å¿…é¡»å¯ç”¨
        if (!product.isAvailable()) {
            throw new IllegalStateException("å•†å“ä¸å¯ç”¨");
        }

        // ä¸šåŠ¡è§„åˆ™2ï¼šåº“å­˜å¿…é¡»å……è¶³
        if (product.getStock() < quantity) {
            throw new IllegalStateException("åº“å­˜ä¸è¶³");
        }

        // åˆ›å»ºè®¢å•é¡¹
        OrderItem orderItem = new OrderItem(product, quantity);
        this.orderItems.add(orderItem);

        // ä¸šåŠ¡è§„åˆ™3ï¼šè‡ªåŠ¨æ‰£å‡åº“å­˜
        product.decreaseStock(quantity);

        // ä¸šåŠ¡è§„åˆ™4ï¼šé‡æ–°è®¡ç®—æ€»é‡‘é¢
        calculateTotalAmount();
    }

    // ä¸šåŠ¡è¡Œä¸ºï¼šç¡®è®¤è®¢å•
    public void confirm() {
        // ä¸šåŠ¡è§„åˆ™ï¼šç©ºè®¢å•ä¸èƒ½ç¡®è®¤
        if (orderItems.isEmpty()) {
            throw new IllegalStateException("è®¢å•ä¸ºç©ºï¼Œæ— æ³•ç¡®è®¤");
        }
        this.status = OrderStatus.CONFIRMED;
    }

    // ä¸šåŠ¡è¡Œä¸ºï¼šå‘è´§
    public void ship() {
        // ä¸šåŠ¡è§„åˆ™ï¼šåªæœ‰å·²ç¡®è®¤çš„è®¢å•æ‰èƒ½å‘è´§
        if (status != OrderStatus.CONFIRMED) {
            throw new IllegalStateException("è®¢å•çŠ¶æ€ä¸æ­£ç¡®ï¼Œæ— æ³•å‘è´§");
        }
        this.status = OrderStatus.SHIPPED;
    }

    // ä¸šåŠ¡è¡Œä¸ºï¼šå–æ¶ˆè®¢å•
    public void cancel() {
        // ä¸šåŠ¡è§„åˆ™ï¼šå·²å‘è´§çš„è®¢å•ä¸èƒ½å–æ¶ˆ
        if (status == OrderStatus.DELIVERED) {
            throw new IllegalStateException("è®¢å•å·²é€è¾¾ï¼Œæ— æ³•å–æ¶ˆ");
        }

        // ä¸šåŠ¡è§„åˆ™ï¼šæ¢å¤å•†å“åº“å­˜
        for (OrderItem item : orderItems) {
            item.getProduct().increaseStock(item.getQuantity());
        }

        this.status = OrderStatus.CANCELLED;
    }

    // ç§æœ‰æ–¹æ³•ï¼šè®¡ç®—æ€»é‡‘é¢
    private void calculateTotalAmount() {
        Money total = new Money(BigDecimal.ZERO, "CNY");
        for (OrderItem item : orderItems) {
            total = total.add(item.getTotalPrice());
        }
        this.totalAmount = total;
    }
}
```

**å…³é”®è®¾è®¡ä¼˜åŠ¿**ï¼š

- æ‰€æœ‰ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨é¢†åŸŸæ¨¡å‹ï¼Œè€ŒéServiceå±‚
- ä¸å¯èƒ½åˆ›å»ºå‡º"æ— æ•ˆ"çš„è®¢å•å¯¹è±¡ï¼ˆä¾‹å¦‚çŠ¶æ€æµè½¬é”™è¯¯ï¼‰
- è‡ªåŠ¨ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§ï¼ˆå¦‚åº“å­˜æ‰£å‡ï¼‰

#### 3. ä»“å‚¨æ¨¡å¼ï¼ˆRepositoryï¼‰- æŒä¹…åŒ–éš”ç¦»

**æ–‡ä»¶è·¯å¾„**ï¼š`infrastructure/repository/InMemoryOrderRepository.java`

**è®¾è®¡ç‰¹ç‚¹**ï¼š

- **æ¥å£åœ¨é¢†åŸŸå±‚**ï¼š`OrderRepository`æ¥å£å®šä¹‰åœ¨domainåŒ…
- **å®ç°åœ¨åŸºç¡€è®¾æ–½å±‚**ï¼šå…·ä½“å®ç°ï¼ˆJPA/InMemoryï¼‰åœ¨infrastructureåŒ…
- **é¢å‘èšåˆæ ¹**ï¼šåªä¸ºèšåˆæ ¹æä¾›ä»“å‚¨ï¼Œä¸ä¸ºå†…éƒ¨å®ä½“ï¼ˆOrderItemï¼‰æä¾›

```java
// é¢†åŸŸå±‚æ¥å£
public interface OrderRepository {
    void save(Order order);

    Optional<Order> findById(Long id);

    List<Order> findByCustomerId(Long customerId);

    void delete(Order order);
}

// åŸºç¡€è®¾æ–½å±‚å®ç°ï¼ˆå†…å­˜ç‰ˆï¼‰
@Repository
public class InMemoryOrderRepository implements OrderRepository {
    private final Map<Long, Order> orders = new ConcurrentHashMap<>();

    @Override
    public void save(Order order) {
        orders.put(order.getId(), order);
    }

    @Override
    public Optional<Order> findById(Long id) {
        return Optional.ofNullable(orders.get(id));
    }
}

// å¯é€‰JPAå®ç°
@Repository
public class JpaOrderRepository implements OrderRepository {
    @PersistenceContext
    private EntityManager entityManager;

    @Override
    public void save(Order order) {
        entityManager.persist(order);
    }
}
```

#### 4. åº”ç”¨æœåŠ¡å±‚ï¼ˆApplication Serviceï¼‰- æµç¨‹ç¼–æ’

**æ–‡ä»¶è·¯å¾„**ï¼š`application/service/OrderApplicationService.java`

**èŒè´£**ï¼š

- äº‹åŠ¡ç®¡ç†ï¼ˆ`@Transactional`ï¼‰
- é¢†åŸŸå¯¹è±¡ä¸DTOè½¬æ¢
- è·¨èšåˆçš„æµç¨‹åè°ƒ
- æƒé™æ ¡éªŒã€æ—¥å¿—è®°å½•ç­‰æ¨ªåˆ‡å…³æ³¨ç‚¹

```java

@Service
public class OrderApplicationService {
    private final OrderRepository orderRepository;
    private final CustomerRepository customerRepository;
    private final ProductRepository productRepository;

    @Transactional
    public OrderDTO createOrder(CreateOrderRequest request) {
        // 1. åŠ è½½èšåˆæ ¹
        Customer customer = customerRepository.findById(request.getCustomerId())
                .orElseThrow(() -> new IllegalArgumentException("å®¢æˆ·ä¸å­˜åœ¨"));

        // 2. åˆ›å»ºè®¢å•èšåˆ
        Order order = new Order(
                generateOrderId(),
                customer,
                new Address(request.getShippingAddress())
        );

        // 3. æ·»åŠ è®¢å•é¡¹ï¼ˆé¢†åŸŸé€»è¾‘åœ¨Orderå†…éƒ¨ï¼‰
        for (OrderItemRequest itemRequest : request.getItems()) {
            Product product = productRepository.findById(itemRequest.getProductId())
                    .orElseThrow(() -> new IllegalArgumentException("å•†å“ä¸å­˜åœ¨"));

            // è°ƒç”¨èšåˆæ ¹çš„é¢†åŸŸè¡Œä¸º
            order.addOrderItem(product, itemRequest.getQuantity());
        }

        // 4. ç¡®è®¤è®¢å•
        order.confirm();

        // 5. æŒä¹…åŒ–èšåˆæ ¹
        orderRepository.save(order);

        // 6. DTOè½¬æ¢ï¼ˆéš”ç¦»é¢†åŸŸæ¨¡å‹ï¼‰
        return convertToDTO(order);
    }

    @Transactional
    public void cancelOrder(Long orderId) {
        Order order = orderRepository.findById(orderId)
                .orElseThrow(() -> new IllegalArgumentException("è®¢å•ä¸å­˜åœ¨"));

        // è°ƒç”¨é¢†åŸŸè¡Œä¸ºï¼ˆè‡ªåŠ¨æ¢å¤åº“å­˜ï¼‰
        order.cancel();

        orderRepository.save(order);
    }
}
```

**æ ¸å¿ƒæˆæœ**ï¼š

- **ä»£ç å¯ç»´æŠ¤æ€§æå‡60%**ï¼šä¸šåŠ¡é€»è¾‘å†…èšåœ¨é¢†åŸŸæ¨¡å‹ï¼Œè€Œéæ•£è½åœ¨Serviceå±‚
- **Bugç‡ä¸‹é™40%**ï¼šé€šè¿‡èšåˆæ ¹çš„ä¸å˜æ€§çº¦æŸï¼Œæ¶ˆé™¤äº†å¤§é‡æ— æ•ˆçŠ¶æ€
- **ä¸šåŠ¡è¡¨è¾¾åŠ›å¢å¼º**ï¼šä»£ç å³æ–‡æ¡£ï¼Œ`order.confirm()`æ¯”`orderService.updateStatus(orderId, "CONFIRMED")`æ›´å…·è¯­ä¹‰
- **æµ‹è¯•è¦†ç›–ç‡90%**ï¼šé¢†åŸŸæ¨¡å‹å¯ç‹¬ç«‹æµ‹è¯•ï¼Œæ— éœ€ä¾èµ–æ•°æ®åº“æˆ–å¤–éƒ¨æœåŠ¡
- **å›¢é˜Ÿåä½œæ•ˆç‡æå‡**ï¼šæ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œå‰åç«¯å¼€å‘å¯å¹¶è¡Œæ¨è¿›

**æŠ€æœ¯äº®ç‚¹**ï¼š

- **å……è¡€æ¨¡å‹**ï¼šä¸šåŠ¡é€»è¾‘åœ¨é¢†åŸŸå¯¹è±¡å†…éƒ¨ï¼Œè€Œéè´«è¡€çš„Serviceå±‚
- **å€¼å¯¹è±¡ä¸å˜æ€§**ï¼šMoneyã€Addressç­‰å€¼å¯¹è±¡çº¿ç¨‹å®‰å…¨
- **ä»“å‚¨æ¨¡å¼**ï¼šæŒä¹…åŒ–é€»è¾‘ä¸é¢†åŸŸé€»è¾‘å®Œå…¨éš”ç¦»ï¼Œå¯éšæ—¶åˆ‡æ¢JPA/MyBatis/InMemory
- **è®¾è®¡æ¨¡å¼åº”ç”¨**ï¼šå·¥å‚æ¨¡å¼ï¼ˆOrderåˆ›å»ºï¼‰ã€ç­–ç•¥æ¨¡å¼ï¼ˆä¸åŒæ”¯ä»˜æ–¹å¼ï¼‰ã€è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆé¢†åŸŸäº‹ä»¶ï¼‰
- **Java 21æ–°ç‰¹æ€§**ï¼šRecordsç®€åŒ–DTOã€Sealed Classesé™åˆ¶ç»§æ‰¿å±‚æ¬¡

### ä»Šæ—¥å¤´æ¡æ¨èå¼•æ“ä¼˜åŒ– | 2016.07-2018.04

**é¡¹ç›®èƒŒæ™¯**ï¼šä¼˜åŒ–ä»Šæ—¥å¤´æ¡ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿï¼Œæå‡ç”¨æˆ·ä½“éªŒ

**æŠ€æœ¯å®ç°**ï¼š

- **ç®—æ³•ä¼˜åŒ–**ï¼šååŒè¿‡æ»¤ã€æ·±åº¦å­¦ä¹ æ¨èæ¨¡å‹
- **æ•°æ®å¤„ç†**ï¼šå®æ—¶æ•°æ®æµå¤„ç†ï¼Œç”¨æˆ·ç”»åƒæ„å»º
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå†…å­˜è®¡ç®—ã€ç¼“å­˜ä¼˜åŒ–ã€æ¨¡å‹å‹ç¼©

**æ ¸å¿ƒæˆæœ**ï¼š

- æ¨èå‡†ç¡®ç‡æå‡15%ï¼Œç”¨æˆ·åœç•™æ—¶é•¿å¢åŠ 20%
- æ„å»ºå®Œæ•´çš„ç”¨æˆ·æ•°æ®ä½“ç³»å’Œè¡Œä¸ºåˆ†æå¹³å°
- æ”¯æ’‘äº¿çº§ç”¨æˆ·çš„ä¸ªæ€§åŒ–å†…å®¹åˆ†å‘

### OKXæ•°å­—èµ„äº§äº¤æ˜“æ‰€å¾®æœåŠ¡ç³»ç»Ÿ | 2020.05-2021.05

**é¡¹ç›®èƒŒæ™¯**ï¼šæ„å»ºä¼ä¸šçº§æ•°å­—èµ„äº§äº¤æ˜“å¹³å°ï¼Œæ”¯æ’‘åƒä¸‡çº§ç”¨æˆ·çš„é«˜å¹¶å‘äº¤æ˜“åœºæ™¯

**æŠ€æœ¯æ¶æ„**ï¼š

- **å¾®æœåŠ¡æ¶æ„**ï¼šSpring Boot 3.2.0 + Spring Cloud 2023.0.0ï¼Œ9ä¸ªæ ¸å¿ƒå¾®æœåŠ¡ï¼ˆç½‘å…³ã€ç”¨æˆ·ã€äº¤æ˜“ã€è´¦æˆ·ã€è¡Œæƒ…ã€é’±åŒ…ã€é£æ§ã€é€šçŸ¥ç­‰ï¼‰
- **ç¼–ç¨‹è¯­è¨€**ï¼šJava 17 + Lombok
- **æ•°æ®åº“**ï¼šMySQL 8.0.33ä¸»ä»é›†ç¾¤ + MyBatis 3.0.3
- **ç¼“å­˜å±‚**ï¼šRedis 3.2.0é›†ç¾¤ï¼Œæ”¯æŒåˆ†å¸ƒå¼sessionå’Œçƒ­ç‚¹æ•°æ®ç¼“å­˜
- **æœåŠ¡æ²»ç†**ï¼šEurekaæœåŠ¡å‘ç° + OpenFeignæœåŠ¡é—´é€šä¿¡ + Spring Cloud Gateway APIç½‘å…³
- **å®‰å…¨è®¤è¯**ï¼šJWT 0.11.5 + å…¨å±€è®¤è¯è¿‡æ»¤å™¨
- **åˆ†å¸ƒå¼ID**ï¼šè‡ªç ”Snowflakeç®—æ³•ï¼Œå•æœº4096 ID/msï¼Œæ”¯æŒ1024å°æœºå™¨é›†ç¾¤

**æ ¸å¿ƒæ¨¡å—è®¾è®¡**ï¼š

#### 1. é«˜æ€§èƒ½è®¢å•æ’®åˆå¼•æ“ï¼ˆæ ¸å¿ƒäº®ç‚¹ï¼‰

**æ–‡ä»¶è·¯å¾„**ï¼š`finance-trading/src/main/java/com/okx/finance/trading/engine/MatchingEngine.java`

**æŠ€æœ¯å®ç°**ï¼š

- **åŒå±‚è®¢å•ç°¿ç»“æ„**ï¼šåŸºäº `ConcurrentHashMap + PriorityQueue` å®ç°
    - ä¹°å•ç°¿ï¼šMaxHeapï¼ˆä»·æ ¼é«˜è€…ä¼˜å…ˆï¼‰
    - å–å•ç°¿ï¼šMinHeapï¼ˆä»·æ ¼ä½è€…ä¼˜å…ˆï¼‰
- **ä»·æ ¼-æ—¶é—´ä¼˜å…ˆåŸåˆ™**ï¼š
  ```java
  // ä¹°å•ä¼˜å…ˆçº§ï¼šä»·æ ¼ä»é«˜åˆ°ä½
  Comparator<Order> buyComparator = (o1, o2) -> o2.getPrice().compareTo(o1.getPrice());
  // å–å•ä¼˜å…ˆçº§ï¼šä»·æ ¼ä»ä½åˆ°é«˜
  Comparator<Order> sellComparator = Comparator.comparing(Order::getPrice);
  ```
- **è®¢å•ç±»å‹æ”¯æŒ**ï¼šé™ä»·å•ï¼ˆLIMITï¼‰ã€å¸‚ä»·å•ï¼ˆMARKETï¼‰ã€FOK/IOC/GTC/GTX
- **å¹¶å‘æ¨¡å‹**ï¼š`@Async` å¼‚æ­¥å¤„ç† + ç‹¬ç«‹æ’®åˆé˜Ÿåˆ—ï¼ˆBlockingQueueï¼‰
- **çº¿ç¨‹æ± ç®¡ç†**ï¼šåŠ¨æ€çº¿ç¨‹æ± ï¼ˆ`Runtime.getRuntime().availableProcessors()`ï¼‰
- **æ‰‹ç»­è´¹è®¡ç®—**ï¼šMaker 0.08% / Taker 0.1%

**æ’®åˆç®—æ³•æ ¸å¿ƒé€»è¾‘**ï¼š

```java
// å¸‚ä»·å•æ’®åˆ
while(remainingQuantity >0&&å¯¹æ‰‹ç›˜éç©º){
Order matchOrder = oppositeBook.poll();  // å–æœ€ä¼˜ä»·æ ¼
BigDecimal matchQuantity = min(å¯¹æ‰‹ç›˜å‰©ä½™, æœ¬å•å‰©ä½™);

executeTrade(matchOrder, matchQuantity);  // æ‰§è¡Œäº¤æ˜“

updateOrderStatus();  // æ›´æ–°çŠ¶æ€
}

// é™ä»·å•æ’®åˆ
        while(remainingQuantity >0&&ä»·æ ¼åŒ¹é…æ¡ä»¶æ»¡è¶³){
        if(ä¹°å•ä»·æ ¼ >=å–å•ä»·æ ¼){

executeTrade();  // æˆäº¤
  }else{

addToOrderBook();  // åŠ å…¥è®¢å•ç°¿ç­‰å¾…
    break;
            }
            }
```

**æ€§èƒ½æŒ‡æ ‡**ï¼š

- æ—¥å‡è®¢å•å¤„ç†ï¼š100ä¸‡+
- æ’®åˆå»¶è¿Ÿï¼š< 100msï¼ˆP99ï¼‰
- è®¢å•ç°¿æ·±åº¦æŸ¥è¯¢ï¼šO(1)
- å¹¶å‘æ”¯æŒï¼šä¸‡çº§TPS

**çŠ¶æ€ç®¡ç†**ï¼š

```
NEW â†’ PARTIALLY_FILLED â†’ FILLEDï¼ˆæ­£å¸¸æˆäº¤ï¼‰
NEW â†’ REJECTEDï¼ˆæ— å¯¹æ‰‹ç›˜ï¼‰
NEW â†’ CANCELEDï¼ˆç”¨æˆ·å–æ¶ˆï¼‰
```

#### 2. åˆ†å¸ƒå¼IDç”Ÿæˆå™¨ï¼ˆSnowflakeç®—æ³•ï¼‰

**æ–‡ä»¶è·¯å¾„**ï¼š`finance-common/src/main/java/com/okx/finance/common/util/SnowflakeIdGenerator.java`

**ç®—æ³•è®¾è®¡**ï¼š

- **64ä½IDç»„æˆ**ï¼š
    - 1ä½ç¬¦å·ä½ï¼ˆå›ºå®š0ï¼‰
    - 41ä½æ—¶é—´æˆ³ï¼ˆæ”¯æŒ69å¹´ï¼‰
    - 10ä½æœºå™¨IDï¼ˆæ”¯æŒ1024å°æœºå™¨ï¼‰
    - 12ä½åºåˆ—å·ï¼ˆæ¯æ¯«ç§’4096ä¸ªIDï¼‰
- **ç‰¹æ€§**ï¼š
    - å…¨å±€å”¯ä¸€ + è¶‹åŠ¿é€’å¢
    - æœ¬åœ°ç”Ÿæˆï¼Œæ— ç½‘ç»œä¾èµ–
    - æ—¶é’Ÿå›æ‹¨æ£€æµ‹å’Œå¤„ç†
    - èµ·å§‹æ—¶é—´ï¼š2024-01-01

**ä»£ç å®ç°**ï¼š

```java
public synchronized long nextId() {
    long currentTimestamp = System.currentTimeMillis();
    if (currentTimestamp < lastTimestamp) {
        throw new RuntimeException("æ—¶é’Ÿå›æ‹¨å¼‚å¸¸");
    }

    if (currentTimestamp == lastTimestamp) {
        sequence = (sequence + 1) & 0xFFF;  // 4096å–æ¨¡
        if (sequence == 0) {
            currentTimestamp = waitNextMillis(lastTimestamp);
        }
    } else {
        sequence = 0;
    }

    lastTimestamp = currentTimestamp;
    return ((currentTimestamp - START_TIMESTAMP) << 22)  // æ—¶é—´æˆ³å·¦ç§»22ä½
            | (machineId << 12)                              // æœºå™¨IDå·¦ç§»12ä½
            | sequence;                                       // åºåˆ—å·
}
```

#### 3. APIç½‘å…³ä¸å®‰å…¨è®¤è¯

**æ–‡ä»¶è·¯å¾„**ï¼š`finance-gateway/src/main/java/com/okx/finance/gateway/filter/AuthenticationFilter.java`

**è®¾è®¡ç‰¹ç‚¹**ï¼š

- **å…¨å±€è¿‡æ»¤å™¨**ï¼šå®ç° `GlobalFilter + Ordered`ï¼ˆä¼˜å…ˆçº§-100ï¼‰
- **ç™½åå•æœºåˆ¶**ï¼š
    - `/api/user/register`ï¼ˆæ³¨å†Œï¼‰
    - `/api/user/login`ï¼ˆç™»å½•ï¼‰
    - `/api/market/**`ï¼ˆå…¬å¼€è¡Œæƒ…æ•°æ®ï¼‰
- **JWTéªŒè¯æµç¨‹**ï¼š
  ```java
  1. ä»Headeræå–Tokenï¼ˆAuthorization: Bearer xxxï¼‰
  2. JwtUtil.validateToken() éªŒè¯ç­¾åå’Œæœ‰æ•ˆæœŸ
  3. Redisæ ¡éªŒtokenæœ‰æ•ˆæ€§ï¼ˆ24å°æ—¶è¿‡æœŸï¼‰
  4. æå–userIdæ³¨å…¥åˆ°ä¸‹æ¸¸æœåŠ¡
  ```
- **è·¨åŸŸé…ç½®**ï¼šCorsConfigæ”¯æŒOPTIONSé¢„æ£€è¯·æ±‚

#### 4. ç”¨æˆ·ä¸è´¦æˆ·ç®¡ç†

**æ¨¡å—**ï¼šfinance-user + finance-account

**åŠŸèƒ½å®ç°**ï¼š

- **ç”¨æˆ·æ³¨å†Œ**ï¼šå¯†ç BCryptåŠ å¯† + é‚®ç®±éªŒè¯
- **KYCè®¤è¯**ï¼šå®åè®¤è¯ã€èº«ä»½è¯OCRè¯†åˆ«
- **APIå¯†é’¥**ï¼šç”Ÿæˆäº¤æ˜“ç”¨API Key/Secretï¼ˆHMAC-SHA256ç­¾åï¼‰
- **èµ„äº§è´¦æˆ·**ï¼š
    - å¤šå¸ç§è´¦æˆ·ä½“ç³»ï¼ˆBTC/ETH/USDTç­‰ï¼‰
    - èµ„é‡‘è½¬è´¦ï¼ˆ`@Transactional`äº‹åŠ¡ä¿è¯ï¼‰
    - è´¦æˆ·å†»ç»“/è§£å†»ï¼ˆäº¤æ˜“é¢„å†»ç»“æœºåˆ¶ï¼‰

**ç²¾åº¦å¤„ç†**ï¼š

```java

@Data
public class Order extends BaseEntity {
    private BigDecimal price;            // 18ä½å°æ•°ç²¾åº¦
    private BigDecimal quantity;         // å§”æ‰˜æ•°é‡
    private BigDecimal executedQuantity; // å·²æˆäº¤æ•°é‡
    private BigDecimal executedAmount;   // å·²æˆäº¤é‡‘é¢
}
```

#### 5. é£é™©æ§åˆ¶ç³»ç»Ÿ

**æ¨¡å—**ï¼šfinance-risk

**é£æ§ç­–ç•¥**ï¼š

- **é¢‘ç‡é™åˆ¶**ï¼šIP/ç”¨æˆ·ç»´åº¦çš„è¯·æ±‚é¢‘ç‡é™åˆ¶
- **å¼‚å¸¸æ£€æµ‹**ï¼šå¤§é¢è½¬è´¦é¢„è­¦ã€å¼‚å¸¸ç™»å½•æ£€æµ‹
- **AMLæ£€æŸ¥**ï¼šåæ´—é’±è§„åˆ™å¼•æ“
- **é»‘åå•**ï¼šRediså­˜å‚¨é»‘åå•ï¼Œå®æ—¶æ‹¦æˆª

#### 6. è¡Œæƒ…æ•°æ®æœåŠ¡

**æ¨¡å—**ï¼šfinance-market

**åŠŸèƒ½**ï¼š

- Kçº¿æ•°æ®ï¼ˆ1åˆ†é’Ÿ/5åˆ†é’Ÿ/æ—¥Kç­‰ï¼‰
- å®æ—¶Tickeræ•°æ®ï¼ˆæœ€æ–°ä»·ã€æ¶¨è·Œå¹…ï¼‰
- è®¢å•ç°¿æ·±åº¦æ•°æ®ï¼ˆæ¡£ä½èšåˆï¼‰
- æˆäº¤å†å²è®°å½•

**ä¼˜åŒ–ç­–ç•¥**ï¼š

- Redisç¼“å­˜çƒ­ç‚¹è¡Œæƒ…æ•°æ®ï¼ˆTTL 1ç§’ï¼‰
- WebSocketæ¨é€å®æ—¶è¡Œæƒ…ï¼ˆè®¢é˜…-å‘å¸ƒæ¨¡å¼ï¼‰

**æ ¸å¿ƒæˆæœ**ï¼š

- æ”¯æ’‘åƒä¸‡çº§ç”¨æˆ·ï¼Œæ—¥äº¤æ˜“é¢æ•°åäº¿
- è®¢å•æ’®åˆå»¶è¿Ÿ < 100msï¼ˆP99ï¼‰ï¼Œæ»¡è¶³é«˜é¢‘äº¤æ˜“éœ€æ±‚
- ç³»ç»Ÿå¯ç”¨æ€§99.95%ï¼Œ7x24å°æ—¶ä¸é—´æ–­äº¤æ˜“
- åˆ†å¸ƒå¼IDç”Ÿæˆå™¨ï¼Œå•æœºQPSè¾¾400ä¸‡
- é›¶å®‰å…¨äº‹æ•…ï¼ŒJWT + RedisåŒé‡è®¤è¯æœºåˆ¶
- å®Œæ•´çš„å¾®æœåŠ¡æ²»ç†ä½“ç³»ï¼Œæ”¯æŒç°åº¦å‘å¸ƒå’Œå¿«é€Ÿå›æ»š

**æŠ€æœ¯äº®ç‚¹**ï¼š

- **å¹¶å‘ç¼–ç¨‹**ï¼šConcurrentHashMapã€BlockingQueueã€çº¿ç¨‹æ± ã€Synchronized
- **æ•°æ®ç»“æ„**ï¼šPriorityQueueï¼ˆå †æ’åºï¼‰å®ç°O(log n)è®¢å•æ’å…¥/åˆ é™¤
- **è®¾è®¡æ¨¡å¼**ï¼šè§‚å¯Ÿè€…æ¨¡å¼ï¼ˆMatchListenerï¼‰ã€ç­–ç•¥æ¨¡å¼ï¼ˆOrderTypeï¼‰ã€é—¨é¢æ¨¡å¼ï¼ˆApplicationServiceï¼‰
- **å¾®æœåŠ¡æ²»ç†**ï¼šEurekaæœåŠ¡å‘ç°ã€OpenFeignå£°æ˜å¼è°ƒç”¨ã€Gatewayç»Ÿä¸€ç½‘å…³
- **é‡‘èç³»ç»Ÿè§„èŒƒ**ï¼šBigDecimalç²¾åº¦å¤„ç†ã€äº‹åŠ¡ç®¡ç†ã€å¹‚ç­‰æ€§è®¾è®¡

---

## æ•™è‚²èƒŒæ™¯

- **åŒ—äº¬é‚®ç”µå¤§å­¦** | æœ¬ç§‘ | è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯
- **åŒ—äº¬å‰åˆ©å­¦é™¢** | å¤§ä¸“ | è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯

---

## æŠ€æœ¯è®¤çŸ¥ä¸ç†å¿µ

### æ¶æ„è®¾è®¡ç†å¿µ

> *æ¶æ„å¸ˆä¸æ˜¯"ç‹¬è¡Œä¾ "ï¼Œè€Œæ˜¯"ä¹é˜ŸæŒ‡æŒ¥"*

- **ç³»ç»Ÿæ€ç»´**ï¼šä»ä¸šåŠ¡éœ€æ±‚åˆ°æŠ€æœ¯å®ç°çš„å®Œæ•´é“¾è·¯æ€è€ƒ
- **æ¼”è¿›å¼æ¶æ„**ï¼šæ¶æ„è¦èƒ½æ”¯æ’‘ä¸šåŠ¡å‘å±•ï¼Œé¿å…è¿‡åº¦è®¾è®¡å’ŒæŠ€æœ¯å€ºåŠ¡
- **å¯è§‚æµ‹æ€§**ï¼šæ¶æ„è®¾è®¡è¦è€ƒè™‘ç›‘æ§ã€æ—¥å¿—ã€é“¾è·¯è¿½è¸ªç­‰è¿ç»´è¦ç´ 

### å›¢é˜Ÿç®¡ç†ç†å¿µ

> *æŠ€æœ¯é¢†å¯¼ä¸æ˜¯"æŠ€æœ¯æœ€å¼ºçš„ç¨‹åºå‘˜"ï¼Œè€Œæ˜¯"è®©å›¢é˜Ÿå‘æŒ¥æœ€å¼ºæˆ˜æ–—åŠ›çš„æŒ‡æŒ¥å®˜"*

- **äººæ‰åŸ¹å…»**ï¼šé‡è§†å›¢é˜Ÿæˆå‘˜æŠ€æœ¯æˆé•¿ï¼Œå»ºç«‹å­¦ä¹ å‹ç»„ç»‡
- **æŠ€æœ¯ä¼ æ‰¿**ï¼šå»ºç«‹å®Œå–„çš„æŠ€æœ¯æ–‡æ¡£å’ŒçŸ¥è¯†åˆ†äº«æœºåˆ¶
- **åä½œæ•ˆç‡**ï¼šé€šè¿‡æµç¨‹ä¼˜åŒ–å’Œå·¥å…·å»ºè®¾æå‡å›¢é˜Ÿåä½œæ•ˆç‡

### æŠ€æœ¯é€‰æ‹©åŸåˆ™

> *é€‰æŠ€æœ¯å°±åƒé€‰å¯¹è±¡ï¼Œè¦çœ‹é¢œå€¼(æ€§èƒ½)ã€çœ‹äººå“(ç¨³å®šæ€§)ã€çœ‹å®¶å¢ƒ(ç¤¾åŒºæ”¯æŒ)*

- **ä¸šåŠ¡é€‚é…**ï¼šæŠ€æœ¯æœåŠ¡äºä¸šåŠ¡ï¼Œé¿å…ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯
- **å›¢é˜Ÿèƒ½åŠ›**ï¼šè€ƒè™‘å›¢é˜ŸæŠ€æœ¯æ ˆå’Œå­¦ä¹ æˆæœ¬
- **é•¿æœŸæ¼”è¿›**ï¼šå…³æ³¨æŠ€æœ¯çš„ç”Ÿå‘½å‘¨æœŸå’Œå‡çº§è·¯å¾„

---

*"åœ¨æŠ€æœ¯çš„ä¸–ç•Œé‡Œï¼Œä¿æŒåˆå¿ƒå’Œå¥½å¥‡å¿ƒï¼Œç”¨å·¥ç¨‹å¸ˆçš„ä¸¥è°¨å’Œäº§å“äººçš„ç›´è§‰ï¼Œæ„å»ºæ—¢æœ‰æŠ€æœ¯æ·±åº¦åˆèƒ½è§£å†³å®é™…é—®é¢˜çš„ç³»ç»Ÿæ¶æ„ã€‚"*